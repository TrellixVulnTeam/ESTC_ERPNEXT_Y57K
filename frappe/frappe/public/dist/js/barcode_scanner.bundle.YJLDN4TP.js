(()=>{var ht=Object.create;var ct=Object.defineProperty;var pt=Object.getOwnPropertyDescriptor;var gt=Object.getOwnPropertyNames;var vt=Object.getPrototypeOf,xt=Object.prototype.hasOwnProperty;var yt=(q,p)=>()=>(p||q((p={exports:{}}).exports,p),p.exports);var mt=(q,p,v,o)=>{if(p&&typeof p=="object"||typeof p=="function")for(let f of gt(p))!xt.call(q,f)&&f!==v&&ct(q,f,{get:()=>p[f],enumerable:!(o=pt(p,f))||o.enumerable});return q};var Et=(q,p,v)=>(v=q!=null?ht(vt(q)):{},mt(p||!q||!q.__esModule?ct(v,"default",{value:q,enumerable:!0}):v,q));var dt=yt((ft,lt)=>{(function(p,v){typeof ft=="object"&&typeof lt=="object"?lt.exports=v(v.toString()).default:typeof ft=="object"?ft.Quagga=v(v.toString()).default:p.Quagga=v(v.toString()).default})(ft,function(q){return function(p){var v={};function o(f){if(v[f])return v[f].exports;var i=v[f]={i:f,l:!1,exports:{}};return p[f].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=p,o.c=v,o.i=function(f){return f},o.d=function(f,i,s){o.o(f,i)||Object.defineProperty(f,i,{configurable:!1,enumerable:!0,get:s})},o.n=function(f){var i=f&&f.__esModule?function(){return f.default}:function(){return f};return o.d(i,"a",i),i},o.o=function(f,i){return Object.prototype.hasOwnProperty.call(f,i)},o.p="/",o(o.s=166)}([function(p,v){function o(f){var i=typeof f;return f!=null&&(i=="object"||i=="function")}p.exports=o},function(p,v,o){"use strict";var f=o(3);function i(s,n){return this._row=[],this.config=s||{},this.supplements=n,this}i.prototype._nextUnset=function(s,n){var t;for(n===void 0&&(n=0),t=n;t<s.length;t++)if(!s[t])return t;return s.length},i.prototype._matchPattern=function(s,n,t){var e,r=0,a=0,u=0,c=0,l,d,h;for(t=t||this.SINGLE_CODE_ERROR||1,e=0;e<s.length;e++)u+=s[e],c+=n[e];if(u<c)return Number.MAX_VALUE;for(l=u/c,t*=l,e=0;e<s.length;e++){if(d=s[e],h=n[e]*l,a=Math.abs(d-h)/h,a>t)return Number.MAX_VALUE;r+=a}return r/c},i.prototype._nextSet=function(s,n){var t;for(n=n||0,t=n;t<s.length;t++)if(s[t])return t;return s.length},i.prototype._correctBars=function(s,n,t){for(var e=t.length,r=0;e--;)r=s[t[e]]*(1-(1-n)/2),r>1&&(s[t[e]]=r)},i.prototype._matchTrace=function(s,n){var t=[],e,r=this,a=r._nextSet(r._row),u=!r._row[a],c=0,l={error:Number.MAX_VALUE,code:-1,start:0},d;if(s){for(e=0;e<s.length;e++)t.push(0);for(e=a;e<r._row.length;e++)if(r._row[e]^u)t[c]++;else{if(c===t.length-1)return d=r._matchPattern(t,s),d<n?(l.start=e-a,l.end=e,l.counter=t,l):null;c++,t[c]=1,u=!u}}else for(t.push(0),e=a;e<r._row.length;e++)r._row[e]^u?t[c]++:(c++,t.push(0),t[c]=1,u=!u);return l.start=a,l.end=r._row.length-1,l.counter=t,l},i.prototype.decodePattern=function(s){var n=this,t;return n._row=s,t=n._decode(),t===null?(n._row.reverse(),t=n._decode(),t&&(t.direction=i.DIRECTION.REVERSE,t.start=n._row.length-t.start,t.end=n._row.length-t.end)):t.direction=i.DIRECTION.FORWARD,t&&(t.format=n.FORMAT),t},i.prototype._matchRange=function(s,n,t){var e;for(s=s<0?0:s,e=s;e<n;e++)if(this._row[e]!==t)return!1;return!0},i.prototype._fillCounters=function(s,n,t){var e=this,r=0,a,u=[];for(t=typeof t!="undefined"?t:!0,s=typeof s!="undefined"?s:e._nextUnset(e._row),n=n||e._row.length,u[r]=0,a=s;a<n;a++)e._row[a]^t?u[r]++:(r++,u[r]=1,t=!t);return u},i.prototype._toCounters=function(s,n){var t=this,e=n.length,r=t._row.length,a=!t._row[s],u,c=0;for(f.a.init(n,0),u=s;u<r;u++)if(t._row[u]^a)n[c]++;else{if(c++,c===e)break;n[c]=1,a=!a}return n},Object.defineProperty(i.prototype,"FORMAT",{value:"unknown",writeable:!1}),i.DIRECTION={FORWARD:1,REVERSE:-1},i.Exception={StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"},i.CONFIG_KEYS={},v.a=i},function(p,v){var o=Array.isArray;p.exports=o},function(p,v,o){"use strict";v.a={init:function(i,s){for(var n=i.length;n--;)i[n]=s},shuffle:function(i){var s=i.length-1,n,t;for(s;s>=0;s--)n=Math.floor(Math.random()*s),t=i[s],i[s]=i[n],i[n]=t;return i},toPointList:function(i){var s,n,t=[],e=[];for(s=0;s<i.length;s++){for(t=[],n=0;n<i[s].length;n++)t[n]=i[s][n];e[s]="["+t.join(",")+"]"}return"["+e.join(`,\r
`)+"]"},threshold:function(i,s,n){var t,e=[];for(t=0;t<i.length;t++)n.apply(i,[i[t]])>=s&&e.push(i[t]);return e},maxIndex:function(i){var s,n=0;for(s=0;s<i.length;s++)i[s]>i[n]&&(n=s);return n},max:function(i){var s,n=0;for(s=0;s<i.length;s++)i[s]>n&&(n=i[s]);return n},sum:function(i){for(var s=i.length,n=0;s--;)n+=i[s];return n}}},function(p,v,o){"use strict";var f=o(28),i=o.n(f),s=o(1),n=Object.assign||function(a){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(a[l]=c[l])}return a};function t(a,u){a=i()(e(),a),s.a.call(this,a,u)}function e(){var a={};return Object.keys(t.CONFIG_KEYS).forEach(function(u){a[u]=t.CONFIG_KEYS[u].default}),a}var r={CODE_L_START:{value:0},CODE_G_START:{value:10},START_PATTERN:{value:[1,1,1]},STOP_PATTERN:{value:[1,1,1]},MIDDLE_PATTERN:{value:[1,1,1,1,1]},EXTENSION_START_PATTERN:{value:[1,1,2]},CODE_PATTERN:{value:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]]},CODE_FREQUENCY:{value:[0,11,13,14,19,25,28,21,22,26]},SINGLE_CODE_ERROR:{value:.7},AVG_CODE_ERROR:{value:.48},FORMAT:{value:"ean_13",writeable:!1}};t.prototype=Object.create(s.a.prototype,r),t.prototype.constructor=t,t.prototype._decodeCode=function(a,u){var c=[0,0,0,0],l,d=this,h=a,g=!d._row[h],y=0,m={error:Number.MAX_VALUE,code:-1,start:a,end:a},x,D;for(u||(u=d.CODE_PATTERN.length),l=h;l<d._row.length;l++)if(d._row[l]^g)c[y]++;else{if(y===c.length-1){for(x=0;x<u;x++)D=d._matchPattern(c,d.CODE_PATTERN[x]),D<m.error&&(m.code=x,m.error=D);return m.end=l,m.error>d.AVG_CODE_ERROR?null:m}else y++;c[y]=1,g=!g}return null},t.prototype._findPattern=function(a,u,c,l,d){var h=[],g=this,y,m=0,x={error:Number.MAX_VALUE,code:-1,start:0,end:0},D,O,R;for(u||(u=g._nextSet(g._row)),c===void 0&&(c=!1),l===void 0&&(l=!0),d===void 0&&(d=g.AVG_CODE_ERROR),y=0;y<a.length;y++)h[y]=0;for(y=u;y<g._row.length;y++)if(g._row[y]^c)h[m]++;else{if(m===h.length-1){for(R=0,O=0;O<h.length;O++)R+=h[O];if(D=g._matchPattern(h,a),D<d)return x.error=D,x.start=y-R,x.end=y,x;if(l){for(O=0;O<h.length-2;O++)h[O]=h[O+2];h[h.length-2]=0,h[h.length-1]=0,m--}else return null}else m++;h[m]=1,c=!c}return null},t.prototype._findStart=function(){for(var a=this,u,c=a._nextSet(a._row),l;!l;){if(l=a._findPattern(a.START_PATTERN,c),!l)return null;if(u=l.start-(l.end-l.start),u>=0&&a._matchRange(u,l.start,0))return l;c=l.end,l=null}},t.prototype._verifyTrailingWhitespace=function(a){var u=this,c;return c=a.end+(a.end-a.start),c<u._row.length&&u._matchRange(a.end,c,0)?a:null},t.prototype._findEnd=function(a,u){var c=this,l=c._findPattern(c.STOP_PATTERN,a,u,!1);return l!==null?c._verifyTrailingWhitespace(l):null},t.prototype._calculateFirstDigit=function(a){var u,c=this;for(u=0;u<c.CODE_FREQUENCY.length;u++)if(a===c.CODE_FREQUENCY[u])return u;return null},t.prototype._decodePayload=function(a,u,c){var l,d=this,h=0,g;for(l=0;l<6;l++){if(a=d._decodeCode(a.end),!a)return null;a.code>=d.CODE_G_START?(a.code=a.code-d.CODE_G_START,h|=1<<5-l):h|=0<<5-l,u.push(a.code),c.push(a)}if(g=d._calculateFirstDigit(h),g===null||(u.unshift(g),a=d._findPattern(d.MIDDLE_PATTERN,a.end,!0,!1),a===null))return null;for(c.push(a),l=0;l<6;l++){if(a=d._decodeCode(a.end,d.CODE_G_START),!a)return null;c.push(a),u.push(a.code)}return a},t.prototype._decode=function(){var a,u=this,c,l=[],d=[],h={};if(a=u._findStart(),!a||(c={code:a.code,start:a.start,end:a.end},d.push(c),c=u._decodePayload(c,l,d),!c)||(c=u._findEnd(c.end,!1),!c)||(d.push(c),!u._checksum(l)))return null;if(this.supplements.length>0){var g=this._decodeExtensions(c.end);if(!g)return null;var y=g.decodedCodes[g.decodedCodes.length-1],m={start:y.start+((y.end-y.start)/2|0),end:y.end};if(!u._verifyTrailingWhitespace(m))return null;h={supplement:g,code:l.join("")+g.code}}return n({code:l.join(""),start:a.start,end:c.end,codeset:"",startInfo:a,decodedCodes:d},h)},t.prototype._decodeExtensions=function(a){var u,c=this._nextSet(this._row,a),l=this._findPattern(this.EXTENSION_START_PATTERN,c,!1,!1),d;if(l===null)return null;for(u=0;u<this.supplements.length;u++)if(d=this.supplements[u].decode(this._row,l.end),d!==null)return{code:d.code,start:c,startInfo:l,end:d.end,codeset:"",decodedCodes:d.decodedCodes};return null},t.prototype._checksum=function(a){var u=0,c;for(c=a.length-2;c>=0;c-=2)u+=a[c];for(u*=3,c=a.length-1;c>=0;c-=2)u+=a[c];return u%10===0},t.CONFIG_KEYS={supplements:{type:"arrayOf(string)",default:[],description:"Allowed extensions to be decoded (2 and/or 5)"}},v.a=t},function(p,v,o){var f=o(38),i=typeof self=="object"&&self&&self.Object===Object&&self,s=f||i||Function("return this")();p.exports=s},function(p,v){function o(f){return f!=null&&typeof f=="object"}p.exports=o},function(p,v){p.exports=o;function o(f){var i=new Float32Array(2);return i[0]=f[0],i[1]=f[1],i}},function(p,v,o){var f=o(11),i=o(119),s=o(146),n="[object Null]",t="[object Undefined]",e=f?f.toStringTag:void 0;function r(a){return a==null?a===void 0?t:n:e&&e in Object(a)?i(a):s(a)}p.exports=r},function(p,v,o){"use strict";v.a={drawRect:function(i,s,n,t){n.strokeStyle=t.color,n.fillStyle=t.color,n.lineWidth=1,n.beginPath(),n.strokeRect(i.x,i.y,s.x,s.y)},drawPath:function(i,s,n,t){n.strokeStyle=t.color,n.fillStyle=t.color,n.lineWidth=t.lineWidth,n.beginPath(),n.moveTo(i[0][s.x],i[0][s.y]);for(var e=1;e<i.length;e++)n.lineTo(i[e][s.x],i[e][s.y]);n.closePath(),n.stroke()},drawImage:function(i,s,n){var t=n.getImageData(0,0,s.x,s.y),e=t.data,r=i.length,a=e.length,u;if(a/r!==4)return!1;for(;r--;)u=i[r],e[--a]=255,e[--a]=u,e[--a]=u,e[--a]=u;return n.putImageData(t,0,0),!0}}},function(p,v,o){var f=o(133),i=o(134),s=o(135),n=o(136),t=o(137);function e(r){var a=-1,u=r==null?0:r.length;for(this.clear();++a<u;){var c=r[a];this.set(c[0],c[1])}}e.prototype.clear=f,e.prototype.delete=i,e.prototype.get=s,e.prototype.has=n,e.prototype.set=t,p.exports=e},function(p,v,o){var f=o(5),i=f.Symbol;p.exports=i},function(p,v,o){var f=o(17);function i(s,n){for(var t=s.length;t--;)if(f(s[t][0],n))return t;return-1}p.exports=i},function(p,v,o){var f=o(2),i=o(130),s=o(154),n=o(165);function t(e,r){return f(e)?e:i(e,r)?[e]:s(n(e))}p.exports=t},function(p,v,o){var f=o(131);function i(s,n){var t=s.__data__;return f(n)?t[typeof n=="string"?"string":"hash"]:t.map}p.exports=i},function(p,v){var o=9007199254740991,f=/^(?:0|[1-9]\d*)$/;function i(s,n){return n=n==null?o:n,!!n&&(typeof s=="number"||f.test(s))&&s>-1&&s%1==0&&s<n}p.exports=i},function(p,v,o){var f=o(22),i=f(Object,"create");p.exports=i},function(p,v){function o(f,i){return f===i||f!==f&&i!==i}p.exports=o},function(p,v,o){var f=o(96),i=o(6),s=Object.prototype,n=s.hasOwnProperty,t=s.propertyIsEnumerable,e=f(function(){return arguments}())?f:function(r){return i(r)&&n.call(r,"callee")&&!t.call(r,"callee")};p.exports=e},function(p,v,o){"use strict";var f=o(50),i=o(3);v.b=t,v.f=d,v.g=g,v.h=L,v.c=H,v.d=J,v.i=ot,v.a=rt,v.e=V,v.j=j;var s={clone:o(7)},n={clone:o(83)};function t(C,T){var E={x:C,y:T,toVec2:function(){return s.clone([this.x,this.y])},toVec3:function(){return n.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}};return E}function e(C,T){var E=C.data,_=C.size.x,A=C.size.y,b=T.data,I=0,z=0,B=0,w=0,U=0,G,X;for(B=_,I=0,X=1;X<A;X++)I+=E[z],b[B]+=I,z+=_,B+=_;for(z=0,B=1,I=0,G=1;G<_;G++)I+=E[z],b[B]+=I,z++,B++;for(X=1;X<A;X++)for(z=X*_+1,B=(X-1)*_+1,w=X*_,U=(X-1)*_,G=1;G<_;G++)b[z]+=E[z]+b[B]+b[w]-b[U],z++,B++,w++,U++}function r(C,T){for(var E=C.data,_=C.size.x,A=C.size.y,b=T.data,I=0,z=0;z<_;z++)I+=E[z],b[z]=I;for(var B=1;B<A;B++){I=0;for(var w=0;w<_;w++)I+=E[B*_+w],b[B*_+w]=I+b[(B-1)*_+w]}}function a(C,T,E){E||(E=C);for(var _=C.data,A=_.length,b=E.data;A--;)b[A]=_[A]<T?1:0}function u(C,T){T||(T=8);for(var E=C.data,_=E.length,A=8-T,b=1<<T,I=new Int32Array(b);_--;)I[E[_]>>A]++;return I}function c(C){var T,E=C.length,_=C[0],A=C[1],b;for(T=1;T<E-1;T++)b=C[T+1],C[T-1]=A*2-_-b&255,_=A,A=b;return C}function l(C,T){T||(T=8);var E,_,A=8-T;function b(B,w){var U=0,G;for(G=B;G<=w;G++)U+=E[G];return U}function I(B,w){var U,G=0;for(U=B;U<=w;U++)G+=U*E[U];return G}function z(){var B=[0],w,U,G,X,P,M,W,Y=(1<<T)-1;for(E=u(C,T),X=1;X<Y;X++)w=b(0,X),U=b(X+1,Y),G=w*U,G===0&&(G=1),P=I(0,X)*U,M=I(X+1,Y)*w,W=P-M,B[X]=W*W/G;return i.a.maxIndex(B)}return _=z(),_<<A}function d(C,T){var E=l(C);return a(C,E,T),E}function h(C,T,E){r(C,T),E||(E=C);var _=C.data,A=E.data,b=C.size.x,I=C.size.y,z=T.data,B=0,w,U,G=3,X,P,M,W,Y,et=(G*2+1)*(G*2+1);for(w=0;w<=G;w++)for(U=0;U<b;U++)A[w*b+U]=0,A[(I-1-w)*b+U]=0;for(w=G;w<I-G;w++)for(U=0;U<=G;U++)A[w*b+U]=0,A[w*b+(b-1-U)]=0;for(w=G+1;w<I-G-1;w++)for(U=G+1;U<b-G;U++)X=z[(w-G-1)*b+(U-G-1)],P=z[(w-G-1)*b+(U+G)],M=z[(w+G)*b+(U-G-1)],W=z[(w+G)*b+(U+G)],B=W-M-P+X,Y=B/et,A[w*b+U]=_[w*b+U]>Y+5?0:1}function g(C,T,E){var _,A,b,I,z=[];E||(E="rad");function B(w){var U=!1;for(A=0;A<z.length;A++)b=z[A],b.fits(w)&&(b.add(w),U=!0);return U}for(_=0;_<C.length;_++)I=f.a.createPoint(C[_],_,E),B(I)||z.push(f.a.create(I,T));return z}var y={trace:function(T,E){var _,A=10,b=[],I=[],z=0,B=0;function w(U,G){var X,P,M,W,Y=1,et=Math.abs(E[1]/10),tt=!1;function st(nt,ut){return nt.x>ut.x-Y&&nt.x<ut.x+Y&&nt.y>ut.y-et&&nt.y<ut.y+et}for(X=T[U],G?W={x:X.x+E[0],y:X.y+E[1]}:W={x:X.x-E[0],y:X.y-E[1]},M=G?U+1:U-1,P=T[M];P&&(tt=st(P,W))!==!0&&Math.abs(P.y-X.y)<E[1];)M=G?M+1:M-1,P=T[M];return tt?M:null}for(_=0;_<A;_++){for(z=Math.floor(Math.random()*T.length),b=[],B=z,b.push(T[B]);(B=w(B,!0))!==null;)b.push(T[B]);if(z>0)for(B=z;(B=w(B,!1))!==null;)b.push(T[B]);b.length>I.length&&(I=b)}return I}},m=1,x=2;function D(C,T){var E,_,A=C.data,b=T.data,I=C.size.y,z=C.size.x,B,w,U,G,X;for(E=1;E<I-1;E++)for(_=1;_<z-1;_++)w=E-1,U=E+1,G=_-1,X=_+1,B=A[w*z+G]+A[w*z+X]+A[E*z+_]+A[U*z+G]+A[U*z+X],b[E*z+_]=B>0?1:0}function O(C,T){var E,_,A=C.data,b=T.data,I=C.size.y,z=C.size.x,B,w,U,G,X;for(E=1;E<I-1;E++)for(_=1;_<z-1;_++)w=E-1,U=E+1,G=_-1,X=_+1,B=A[w*z+G]+A[w*z+X]+A[E*z+_]+A[U*z+G]+A[U*z+X],b[E*z+_]=B===5?1:0}function R(C,T,E){E||(E=C);for(var _=C.data.length,A=C.data,b=T.data,I=E.data;_--;)I[_]=A[_]-b[_]}function S(C,T,E){E||(E=C);for(var _=C.data.length,A=C.data,b=T.data,I=E.data;_--;)I[_]=A[_]||b[_]}function N(C){for(var T=C.data.length,E=C.data,_=0;T--;)_+=E[T];return _}function L(C,T,E){var _,A=0,b=0,I=[],z,B,w;for(_=0;_<T;_++)I[_]={score:0,item:null};for(_=0;_<C.length;_++)if(z=E.apply(this,[C[_]]),z>b)for(B=I[A],B.score=z,B.item=C[_],b=Number.MAX_VALUE,w=0;w<T;w++)I[w].score<b&&(b=I[w].score,A=w);return I}function K(C,T,E,_){E.drawImage(C,T,0,C.width,C.height);var A=E.getImageData(T,0,C.width,C.height).data;J(A,_)}function Z(C,T,E,_){var A=C.getImageData(E.x,E.y,T.x,T.y).data;J(A,_)}function H(C,T,E){for(var _=0,A=T.x,b=Math.floor(C.length/4),I=T.x/2,z=0,B=T.x,w;A<b;){for(w=0;w<I;w++)E[z]=(.299*C[_*4+0]+.587*C[_*4+1]+.114*C[_*4+2]+(.299*C[(_+1)*4+0]+.587*C[(_+1)*4+1]+.114*C[(_+1)*4+2])+(.299*C[A*4+0]+.587*C[A*4+1]+.114*C[A*4+2])+(.299*C[(A+1)*4+0]+.587*C[(A+1)*4+1]+.114*C[(A+1)*4+2]))/4,z++,_=_+2,A=A+2;_=_+B,A=A+B}}function J(C,T,E){var _=C.length/4|0,A,b=E&&E.singleChannel===!0;if(b)for(A=0;A<_;A++)T[A]=C[A*4+0];else for(A=0;A<_;A++)T[A]=.299*C[A*4+0]+.587*C[A*4+1]+.114*C[A*4+2]}function Q(C,T,E){E||(E=document.createElement("canvas"));var _=new Image;_.callback=T,_.onload=function(){E.width=this.width,E.height=this.height;var A=E.getContext("2d");A.drawImage(this,0,0);var b=new Uint8Array(this.width*this.height);A.drawImage(this,0,0);var I=A.getImageData(0,0,this.width,this.height).data;J(I,b),this.callback(b,{x:this.width,y:this.height},this)},_.src=C}function ot(C,T){for(var E=C.data,_=C.size.x,A=T.data,b=0,I=_,z=E.length,B=_/2,w=0;I<z;){for(var U=0;U<B;U++)A[w]=Math.floor((E[b]+E[b+1]+E[I]+E[I+1])/4),w++,b=b+2,I=I+2;b=b+_,I=I+_}}function rt(C,T){var E=C[0],_=C[1],A=C[2],b=A*_,I=b*(1-Math.abs(E/60%2-1)),z=A-b,B=0,w=0,U=0;return T=T||[0,0,0],E<60?(B=b,w=I):E<120?(B=I,w=b):E<180?(w=b,U=I):E<240?(w=I,U=b):E<300?(B=I,U=b):E<360&&(B=b,U=I),T[0]=(B+z)*255|0,T[1]=(w+z)*255|0,T[2]=(U+z)*255|0,T}function at(C){var T=[],E=[],_;for(_=1;_<Math.sqrt(C)+1;_++)C%_===0&&(E.push(_),_!==C/_&&T.unshift(Math.floor(C/_)));return E.concat(T)}function F(C,T){for(var E=0,_=0,A=[];E<C.length&&_<T.length;)C[E]===T[_]?(A.push(C[E]),E++,_++):C[E]>T[_]?_++:E++;return A}function V(C,T){var E=at(T.x),_=at(T.y),A=Math.max(T.x,T.y),b=F(E,_),I=[8,10,15,20,32,60,80],z={"x-small":5,small:4,medium:3,large:2,"x-large":1},B=z[C]||z.medium,w=I[B],U=Math.floor(A/w),G;function X(P){for(var M=0,W=P[Math.floor(P.length/2)];M<P.length-1&&P[M]<U;)M++;return M>0&&(Math.abs(P[M]-U)>Math.abs(P[M-1]-U)?W=P[M-1]:W=P[M]),U/W<I[B+1]/I[B]&&U/W>I[B-1]/I[B]?{x:W,y:W}:null}return G=X(b),G||(G=X(at(A)),G||(G=X(at(U*w)))),G}function $(C){var T={value:parseFloat(C),unit:(C.indexOf("%")===C.length-1,"%")};return T}var k={top:function(T,E){if(T.unit==="%")return Math.floor(E.height*(T.value/100))},right:function(T,E){if(T.unit==="%")return Math.floor(E.width-E.width*(T.value/100))},bottom:function(T,E){if(T.unit==="%")return Math.floor(E.height-E.height*(T.value/100))},left:function(T,E){if(T.unit==="%")return Math.floor(E.width*(T.value/100))}};function j(C,T,E){var _={width:C,height:T},A=Object.keys(E).reduce(function(b,I){var z=E[I],B=$(z),w=k[I](B,_);return b[I]=w,b},{});return{sx:A.left,sy:A.top,sw:A.right-A.left,sh:A.bottom-A.top}}},function(p,v,o){"use strict";var f=o(53),i=o(19),s=o(3),n={clone:o(7)};function t(e,r,a,u){r?this.data=r:a?(this.data=new a(e.x*e.y),a===Array&&u&&s.a.init(this.data,0)):(this.data=new Uint8Array(e.x*e.y),Uint8Array===Array&&u&&s.a.init(this.data,0)),this.size=e}t.prototype.inImageWithBorder=function(e,r){return e.x>=r&&e.y>=r&&e.x<this.size.x-r&&e.y<this.size.y-r},t.sample=function(e,r,a){var u=Math.floor(r),c=Math.floor(a),l=e.size.x,d=c*e.size.x+u,h=e.data[d+0],g=e.data[d+1],y=e.data[d+l],m=e.data[d+l+1],x=h-g;r-=u,a-=c;var D=Math.floor(r*(a*(x-y+m)-x)+a*(y-h)+h);return D},t.clearArray=function(e){for(var r=e.length;r--;)e[r]=0},t.prototype.subImage=function(e,r){return new f.a(e,r,this)},t.prototype.subImageAsCopy=function(e,r){var a=e.size.y,u=e.size.x,c,l;for(c=0;c<u;c++)for(l=0;l<a;l++)e.data[l*u+c]=this.data[(r.y+l)*this.size.x+r.x+c]},t.prototype.copyTo=function(e){for(var r=this.data.length,a=this.data,u=e.data;r--;)u[r]=a[r]},t.prototype.get=function(e,r){return this.data[r*this.size.x+e]},t.prototype.getSafe=function(e,r){var a;if(!this.indexMapping){for(this.indexMapping={x:[],y:[]},a=0;a<this.size.x;a++)this.indexMapping.x[a]=a,this.indexMapping.x[a+this.size.x]=a;for(a=0;a<this.size.y;a++)this.indexMapping.y[a]=a,this.indexMapping.y[a+this.size.y]=a}return this.data[this.indexMapping.y[r+this.size.y]*this.size.x+this.indexMapping.x[e+this.size.x]]},t.prototype.set=function(e,r,a){return this.data[r*this.size.x+e]=a,this},t.prototype.zeroBorder=function(){var e,r=this.size.x,a=this.size.y,u=this.data;for(e=0;e<r;e++)u[e]=u[(a-1)*r+e]=0;for(e=1;e<a-1;e++)u[e*r]=u[e*r+(r-1)]=0},t.prototype.invert=function(){for(var e=this.data,r=e.length;r--;)e[r]=e[r]?0:1},t.prototype.convolve=function(e){var r,a,u,c,l=e.length/2|0,d=0;for(a=0;a<this.size.y;a++)for(r=0;r<this.size.x;r++){for(d=0,c=-l;c<=l;c++)for(u=-l;u<=l;u++)d+=e[c+l][u+l]*this.getSafe(r+u,a+c);this.data[a*this.size.x+r]=d}},t.prototype.moments=function(e){var r=this.data,a,u,c=this.size.y,l=this.size.x,d,h,g=[],y,m,x,D,O,R,S,N,L=[],K=Math.PI,Z=K/4;if(e<=0)return L;for(y=0;y<e;y++)g[y]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(u=0;u<c;u++)for(h=u*u,a=0;a<l;a++)d=r[u*l+a],d>0&&(m=g[d-1],m.m00+=1,m.m01+=u,m.m10+=a,m.m11+=a*u,m.m02+=h,m.m20+=a*a);for(y=0;y<e;y++)m=g[y],!isNaN(m.m00)&&m.m00!==0&&(R=m.m10/m.m00,S=m.m01/m.m00,x=m.m11/m.m00-R*S,D=m.m02/m.m00-S*S,O=m.m20/m.m00-R*R,N=(D-O)/(2*x),N=.5*Math.atan(N)+(x>=0?Z:-Z)+K,m.theta=(N*180/K+90)%180-90,m.theta<0&&(m.theta+=180),m.rad=N>K?N-K:N,m.vec=n.clone([Math.cos(N),Math.sin(N)]),L.push(m));return L},t.prototype.show=function(e,r){var a,u,c,l,d,h,g;for(r||(r=1),a=e.getContext("2d"),e.width=this.size.x,e.height=this.size.y,u=a.getImageData(0,0,e.width,e.height),c=u.data,l=0,g=0;g<this.size.y;g++)for(h=0;h<this.size.x;h++)d=g*this.size.x+h,l=this.get(h,g)*r,c[d*4+0]=l,c[d*4+1]=l,c[d*4+2]=l,c[d*4+3]=255;a.putImageData(u,0,0)},t.prototype.overlay=function(e,r,a){(!r||r<0||r>360)&&(r=360);for(var u=[0,1,1],c=[0,0,0],l=[255,255,255],d=[0,0,0],h=[],g=e.getContext("2d"),y=g.getImageData(a.x,a.y,this.size.x,this.size.y),m=y.data,x=this.data.length;x--;)u[0]=this.data[x]*r,h=u[0]<=0?l:u[0]>=360?d:o.i(i.a)(u,c),m[x*4+0]=h[0],m[x*4+1]=h[1],m[x*4+2]=h[2],m[x*4+3]=255;g.putImageData(y,a.x,a.y)},v.a=t},function(p,v,o){var f=o(37);function i(s,n,t){n=="__proto__"&&f?f(s,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):s[n]=t}p.exports=i},function(p,v,o){var f=o(97),i=o(120);function s(n,t){var e=i(n,t);return f(e)?e:void 0}p.exports=s},function(p,v,o){var f=o(27),i=1/0;function s(n){if(typeof n=="string"||f(n))return n;var t=n+"";return t=="0"&&1/n==-i?"-0":t}p.exports=s},function(p,v,o){var f=o(25),i=o(26);function s(n){return n!=null&&i(n.length)&&!f(n)}p.exports=s},function(p,v,o){var f=o(8),i=o(0),s="[object AsyncFunction]",n="[object Function]",t="[object GeneratorFunction]",e="[object Proxy]";function r(a){if(!i(a))return!1;var u=f(a);return u==n||u==t||u==s||u==e}p.exports=r},function(p,v){var o=9007199254740991;function f(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=o}p.exports=f},function(p,v,o){var f=o(8),i=o(6),s="[object Symbol]";function n(t){return typeof t=="symbol"||i(t)&&f(t)==s}p.exports=n},function(p,v,o){var f=o(100),i=o(116),s=i(function(n,t,e){f(n,t,e)});p.exports=s},function(p,v){p.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(p,v,o){"use strict";var f={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(s,n){var t=s.data,e=n.data,r=this.searchDirections,a=s.size.x,u;function c(h,g,y,m){var x,D,O;for(x=0;x<7;x++){if(D=h.cy+r[h.dir][0],O=h.cx+r[h.dir][1],u=D*a+O,t[u]===g&&(e[u]===0||e[u]===y))return e[u]=y,h.cy=D,h.cx=O,!0;e[u]===0&&(e[u]=m),h.dir=(h.dir+1)%8}return!1}function l(h,g,y){return{dir:y,x:h,y:g,next:null,prev:null}}function d(h,g,y,m,x){var D=null,O,R,S,N={cx:g,cy:h,dir:0};if(c(N,m,y,x)){D=l(g,h,N.dir),O=D,S=N.dir,R=l(N.cx,N.cy,0),R.prev=O,O.next=R,R.next=null,O=R;do N.dir=(N.dir+6)%8,c(N,m,y,x),S!==N.dir?(O.dir=N.dir,R=l(N.cx,N.cy,0),R.prev=O,O.next=R,R.next=null,O=R):(O.dir=S,O.x=N.cx,O.y=N.cy),S=N.dir;while(N.cx!==g||N.cy!==h);D.prev=O.prev,O.prev.next=D}return D}return{trace:function(g,y,m,x){return c(g,y,m,x)},contourTracing:function(g,y,m,x,D){return d(g,y,m,x,D)}}}};v.a=f},function(p,v,o){"use strict";var f=o(1),i=o(3);function s(){f.a.call(this)}var n={ALPHABETH_STRING:{value:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,45,46,32,42,36,47,43,37]},CHARACTER_ENCODINGS:{value:[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]},ASTERISK:{value:148},FORMAT:{value:"code_39",writeable:!1}};s.prototype=Object.create(f.a.prototype,n),s.prototype.constructor=s,s.prototype._decode=function(){var t=this,e=[0,0,0,0,0,0,0,0,0],r=[],a=t._findStart(),u,c,l,d;if(!a)return null;d=t._nextSet(t._row,a.end);do{if(e=t._toCounters(d,e),l=t._toPattern(e),l<0||(u=t._patternToChar(l),u<0))return null;r.push(u),c=d,d+=i.a.sum(e),d=t._nextSet(t._row,d)}while(u!=="*");return r.pop(),!r.length||!t._verifyTrailingWhitespace(c,d,e)?null:{code:r.join(""),start:a.start,end:d,startInfo:a,decodedCodes:r}},s.prototype._verifyTrailingWhitespace=function(t,e,r){var a,u=i.a.sum(r);return a=e-t-u,a*3>=u},s.prototype._patternToChar=function(t){var e,r=this;for(e=0;e<r.CHARACTER_ENCODINGS.length;e++)if(r.CHARACTER_ENCODINGS[e]===t)return String.fromCharCode(r.ALPHABET[e]);return-1},s.prototype._findNextWidth=function(t,e){var r,a=Number.MAX_VALUE;for(r=0;r<t.length;r++)t[r]<a&&t[r]>e&&(a=t[r]);return a},s.prototype._toPattern=function(t){for(var e=t.length,r=0,a=e,u=0,c=this,l,d;a>3;){for(r=c._findNextWidth(t,r),a=0,l=0,d=0;d<e;d++)t[d]>r&&(l|=1<<e-1-d,a++,u+=t[d]);if(a===3){for(d=0;d<e&&a>0;d++)if(t[d]>r&&(a--,t[d]*2>=u))return-1;return l}}return-1},s.prototype._findStart=function(){var t=this,e=t._nextSet(t._row),r=e,a=[0,0,0,0,0,0,0,0,0],u=0,c=!1,l,d,h;for(l=e;l<t._row.length;l++)if(t._row[l]^c)a[u]++;else{if(u===a.length-1){if(t._toPattern(a)===t.ASTERISK&&(h=Math.floor(Math.max(0,r-(l-r)/4)),t._matchRange(h,r,0)))return{start:r,end:l};for(r+=a[0]+a[1],d=0;d<7;d++)a[d]=a[d+2];a[7]=0,a[8]=0,u--}else u++;a[u]=1,c=!c}return null},v.a=s},function(p,v){p.exports=o;function o(f,i){return f[0]*i[0]+f[1]*i[1]}},function(p,v,o){var f=o(22),i=o(5),s=f(i,"Map");p.exports=s},function(p,v,o){var f=o(138),i=o(139),s=o(140),n=o(141),t=o(142);function e(r){var a=-1,u=r==null?0:r.length;for(this.clear();++a<u;){var c=r[a];this.set(c[0],c[1])}}e.prototype.clear=f,e.prototype.delete=i,e.prototype.get=s,e.prototype.has=n,e.prototype.set=t,p.exports=e},function(p,v,o){var f=o(21),i=o(17);function s(n,t,e){(e!==void 0&&!i(n[t],e)||e===void 0&&!(t in n))&&f(n,t,e)}p.exports=s},function(p,v,o){var f=o(21),i=o(17),s=Object.prototype,n=s.hasOwnProperty;function t(e,r,a){var u=e[r];(!(n.call(e,r)&&i(u,a))||a===void 0&&!(r in e))&&f(e,r,a)}p.exports=t},function(p,v,o){var f=o(22),i=function(){try{var s=f(Object,"defineProperty");return s({},"",{}),s}catch(n){}}();p.exports=i},function(p,v,o){(function(f){var i=typeof f=="object"&&f&&f.Object===Object&&f;p.exports=i}).call(v,o(47))},function(p,v,o){var f=o(147),i=f(Object.getPrototypeOf,Object);p.exports=i},function(p,v){var o=Object.prototype;function f(i){var s=i&&i.constructor,n=typeof s=="function"&&s.prototype||o;return i===n}p.exports=f},function(p,v,o){var f=o(87),i=Math.max;function s(n,t,e){return t=i(t===void 0?n.length-1:t,0),function(){for(var r=arguments,a=-1,u=i(r.length-t,0),c=Array(u);++a<u;)c[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=e(c),f(n,this,l)}}p.exports=s},function(p,v,o){var f=o(106),i=o(148),s=i(f);p.exports=s},function(p,v){function o(f){return f}p.exports=o},function(p,v,o){(function(f){var i=o(5),s=o(163),n=typeof v=="object"&&v&&!v.nodeType&&v,t=n&&typeof f=="object"&&f&&!f.nodeType&&f,e=t&&t.exports===n,r=e?i.Buffer:void 0,a=r?r.isBuffer:void 0,u=a||s;f.exports=u}).call(v,o(29)(p))},function(p,v,o){var f=o(98),i=o(109),s=o(145),n=s&&s.isTypedArray,t=n?i(n):f;p.exports=t},function(p,v,o){var f=o(88),i=o(99),s=o(24);function n(t){return s(t)?f(t,!0):i(t)}p.exports=n},function(p,v){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(f){typeof window=="object"&&(o=window)}p.exports=o},function(p,v,o){"use strict";Object.defineProperty(v,"__esModule",{value:!0});var f=o(28),i=o.n(f),s=o(54),n=o.n(s),t=o(20),e=o(64),r=o(57),a=o(51),u=o(59),c=o(9),l=o(49),d=o(56),h=o(63),g=o(61),y=Object.assign||function(P){for(var M=1;M<arguments.length;M++){var W=arguments[M];for(var Y in W)Object.prototype.hasOwnProperty.call(W,Y)&&(P[Y]=W[Y])}return P},m={clone:o(7)},x,D,O,R={ctx:{image:null,overlay:null},dom:{image:null,overlay:null}},S,N,L,K=[],Z=!0,H,J={};function Q(P){$(P),L=r.a.create(J.decoder,S)}function ot(P){var M;if(J.inputStream.type==="VideoStream")M=document.createElement("video"),x=h.a.createVideoStream(M);else if(J.inputStream.type==="ImageStream")x=h.a.createImageStream();else if(J.inputStream.type==="LiveStream"){var W=rt();W&&(M=W.querySelector("video"),M||(M=document.createElement("video"),W.appendChild(M))),x=h.a.createLiveStream(M),u.a.request(M,J.inputStream.constraints).then(function(){x.trigger("canrecord")}).catch(function(Y){return P(Y)})}x.setAttribute("preload","auto"),x.setInputStream(J.inputStream),x.addEventListener("canrecord",at.bind(void 0,P))}function rt(){var P=J.inputStream.target;if(P&&P.nodeName&&P.nodeType===1)return P;var M=typeof P=="string"?P:"#interactive.viewport";return document.querySelector(M)}function at(P){e.a.checkImageConstraints(x,J.locator),V(J),D=g.a.create(x,R.dom.image),X(J.numOfWorkers,function(){J.numOfWorkers===0&&Q(),F(P)})}function F(P){x.play(),P()}function V(){if(typeof document!="undefined"){var P=rt();if(R.dom.image=document.querySelector("canvas.imgBuffer"),R.dom.image||(R.dom.image=document.createElement("canvas"),R.dom.image.className="imgBuffer",P&&J.inputStream.type==="ImageStream"&&P.appendChild(R.dom.image)),R.ctx.image=R.dom.image.getContext("2d"),R.dom.image.width=x.getCanvasSize().x,R.dom.image.height=x.getCanvasSize().y,R.dom.overlay=document.querySelector("canvas.drawingBuffer"),!R.dom.overlay){R.dom.overlay=document.createElement("canvas"),R.dom.overlay.className="drawingBuffer",P&&P.appendChild(R.dom.overlay);var M=document.createElement("br");M.setAttribute("clear","all"),P&&P.appendChild(M)}R.ctx.overlay=R.dom.overlay.getContext("2d"),R.dom.overlay.width=x.getCanvasSize().x,R.dom.overlay.height=x.getCanvasSize().y}}function $(P){P?S=P:S=new t.a({x:x.getWidth(),y:x.getHeight()}),console.log(S.size),N=[m.clone([0,0]),m.clone([0,S.size.y]),m.clone([S.size.x,S.size.y]),m.clone([S.size.x,0])],e.a.init(S,J.locator)}function k(){return J.locate?e.a.locate():[[m.clone(N[0]),m.clone(N[1]),m.clone(N[2]),m.clone(N[3])]]}function j(P){var M=x.getTopRight(),W=M.x,Y=M.y,et;if(W===0&&Y===0)return;if(P.barcodes)for(et=0;et<P.barcodes.length;et++)j(P.barcodes[et]);if(P.line&&P.line.length===2&&st(P.line),P.box&&tt(P.box),P.boxes&&P.boxes.length>0)for(et=0;et<P.boxes.length;et++)tt(P.boxes[et]);function tt(nt){for(var ut=nt.length;ut--;)nt[ut][0]+=W,nt[ut][1]+=Y}function st(nt){nt[0].x+=W,nt[0].y+=Y,nt[1].x+=W,nt[1].y+=Y}}function C(P,M){!M||!H||(P.barcodes?P.barcodes.filter(function(W){return W.codeResult}).forEach(function(W){return C(W,M)}):P.codeResult&&H.addResult(M,x.getCanvasSize(),P.codeResult))}function T(P){return P&&(P.barcodes?P.barcodes.some(function(M){return M.codeResult}):P.codeResult)}function E(P,M){var W=P;P&&Z&&(j(P),C(P,M),W=P.barcodes||P),a.a.publish("processed",W),T(P)&&a.a.publish("detected",W)}function _(){var P,M;M=k(),M?(P=L.decodeFromBoundingBoxes(M),P=P||{},P.boxes=M,E(P,S.data)):E()}function A(){var P;if(Z){if(K.length>0)if(P=K.filter(function(M){return!M.busy})[0],P)D.attachData(P.imageData);else return;else D.attachData(S.data);D.grab()&&(P?(P.busy=!0,P.worker.postMessage({cmd:"process",imageData:P.imageData},[P.imageData.buffer])):_())}else _()}function b(){var P=null,M=1e3/(J.frequency||60);O=!1,function W(Y){P=P||Y,O||(Y>=P&&(P+=M,A()),window.requestAnimFrame(W))}(performance.now())}function I(){Z&&J.inputStream.type==="LiveStream"?b():A()}function z(P){var M,W={worker:void 0,imageData:new Uint8Array(x.getWidth()*x.getHeight()),busy:!0};M=U(),W.worker=new Worker(M),W.worker.onmessage=function(Y){if(Y.data.event==="initialized")return URL.revokeObjectURL(M),W.busy=!1,W.imageData=new Uint8Array(Y.data.imageData),console.log("Worker initialized"),P(W);Y.data.event==="processed"?(W.imageData=new Uint8Array(Y.data.imageData),W.busy=!1,E(Y.data.result,W.imageData)):Y.data.event==="error"&&console.log("Worker error: "+Y.data.message)},W.worker.postMessage({cmd:"init",size:{x:x.getWidth(),y:x.getHeight()},imageData:W.imageData,config:B(J)},[W.imageData.buffer])}function B(P){return y({},P,{inputStream:y({},P.inputStream,{target:null})})}function w(P){if(P){var M=P().default;if(!M){self.postMessage({event:"error",message:"Quagga could not be created"});return}}var W;self.onmessage=function(tt){if(tt.data.cmd==="init"){var st=tt.data.config;st.numOfWorkers=0,W=new M.ImageWrapper({x:tt.data.size.x,y:tt.data.size.y},new Uint8Array(tt.data.imageData)),M.init(st,et,W),M.onProcessed(Y)}else tt.data.cmd==="process"?(W.data=new Uint8Array(tt.data.imageData),M.start()):tt.data.cmd==="setReaders"&&M.setReaders(tt.data.readers)};function Y(tt){self.postMessage({event:"processed",imageData:W.data,result:tt},[W.data.buffer])}function et(){self.postMessage({event:"initialized",imageData:W.data},[W.data.buffer])}}function U(){var P,M;return typeof q!="undefined"&&(M=q),P=new Blob(["("+w.toString()+")("+M+");"],{type:"text/javascript"}),window.URL.createObjectURL(P)}function G(P){L?L.setReaders(P):Z&&K.length>0&&K.forEach(function(M){M.worker.postMessage({cmd:"setReaders",readers:P})})}function X(P,M){var W=P-K.length;if(W===0)return M&&M();if(W<0){var Y=K.slice(W);return Y.forEach(function(st){st.worker.terminate(),console.log("Worker terminated!")}),K=K.slice(0,W),M&&M()}else for(var et=function(nt){K.push(nt),K.length>=P&&M&&M()},tt=0;tt<W;tt++)z(et)}v.default={init:function(M,W,Y){if(J=i()({},d.a,M),Y)return Z=!1,Q(Y),W();ot(W)},start:function(){I()},stop:function(){O=!0,X(0),J.inputStream.type==="LiveStream"&&(u.a.release(),x.clearEventHandlers())},pause:function(){O=!0},onDetected:function(M){a.a.subscribe("detected",M)},offDetected:function(M){a.a.unsubscribe("detected",M)},onProcessed:function(M){a.a.subscribe("processed",M)},offProcessed:function(M){a.a.unsubscribe("processed",M)},setReaders:function(M){G(M)},registerResultCollector:function(M){M&&typeof M.addResult=="function"&&(H=M)},canvas:R,decodeSingle:function(M,W){var Y=this;M=i()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:M.src},numOfWorkers:M.debug?0:1,locator:{halfSample:!1}},M),this.init(M,function(){a.a.once("processed",function(et){Y.stop(),W.call(null,et)},!0),I()})},ImageWrapper:t.a,ImageDebug:c.a,ResultCollector:l.a,CameraAccess:u.a}},function(p,v,o){"use strict";var f=o(9);function i(n,t){return t?t.some(function(e){return Object.keys(e).every(function(r){return e[r]===n[r]})}):!1}function s(n,t){return typeof t=="function"?t(n):!0}v.a={create:function(t){var e=document.createElement("canvas"),r=e.getContext("2d"),a=[],u=t.capacity||20,c=t.capture===!0;function l(d){return u&&d&&!i(d,t.blacklist)&&s(d,t.filter)}return{addResult:function(h,g,y){var m={};l(y)&&(u--,m.codeResult=y,c&&(e.width=g.x,e.height=g.y,f.a.drawImage(h,g,r),m.frame=e.toDataURL()),a.push(m))},getResults:function(){return a}}}}},function(p,v,o){"use strict";var f={clone:o(7),dot:o(32)};v.a={create:function(s,n){var t=[],e={rad:0,vec:f.clone([0,0])},r={};function a(){u(s),c()}function u(l){r[l.id]=l,t.push(l)}function c(){var l,d=0;for(l=0;l<t.length;l++)d+=t[l].rad;e.rad=d/t.length,e.vec=f.clone([Math.cos(e.rad),Math.sin(e.rad)])}return a(),{add:function(d){r[d.id]||(u(d),c())},fits:function(d){var h=Math.abs(f.dot(d.point.vec,e.vec));return h>n},getPoints:function(){return t},getCenter:function(){return e}}},createPoint:function(s,n,t){return{rad:s[t],point:s,id:n}}}},function(p,v,o){"use strict";v.a=function(){var f={};function i(e){return f[e]||(f[e]={subscribers:[]}),f[e]}function s(){f={}}function n(e,r){e.async?setTimeout(function(){e.callback(r)},4):e.callback(r)}function t(e,r,a){var u;if(typeof r=="function")u={callback:r,async:a};else if(u=r,!u.callback)throw"Callback was not specified on options";i(e).subscribers.push(u)}return{subscribe:function(r,a,u){return t(r,a,u)},publish:function(r,a){var u=i(r),c=u.subscribers;c.filter(function(l){return!!l.once}).forEach(function(l){n(l,a)}),u.subscribers=c.filter(function(l){return!l.once}),u.subscribers.forEach(function(l){n(l,a)})},once:function(r,a,u){t(r,{callback:a,async:u,once:!0})},unsubscribe:function(r,a){var u;r?(u=i(r),u&&a?u.subscribers=u.subscribers.filter(function(c){return c.callback!==a}):u.subscribers=[]):s()}}}()},function(p,v,o){"use strict";v.b=f,v.a=i;function f(){return navigator.mediaDevices&&typeof navigator.mediaDevices.enumerateDevices=="function"?navigator.mediaDevices.enumerateDevices():Promise.reject(new Error("enumerateDevices is not defined"))}function i(s){return navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function"?navigator.mediaDevices.getUserMedia(s):Promise.reject(new Error("getUserMedia is not defined"))}},function(p,v,o){"use strict";function f(i,s,n){n||(n={data:null,size:s}),this.data=n.data,this.originalSize=n.size,this.I=n,this.from=i,this.size=s}f.prototype.show=function(i,s){var n,t,e,r,a,u,c;for(s||(s=1),n=i.getContext("2d"),i.width=this.size.x,i.height=this.size.y,t=n.getImageData(0,0,i.width,i.height),e=t.data,r=0,a=0;a<this.size.y;a++)for(u=0;u<this.size.x;u++)c=a*this.size.x+u,r=this.get(u,a)*s,e[c*4+0]=r,e[c*4+1]=r,e[c*4+2]=r,e[c*4+3]=255;t.data=e,n.putImageData(t,0,0)},f.prototype.get=function(i,s){return this.data[(this.from.y+s)*this.originalSize.x+this.from.x+i]},f.prototype.updateData=function(i){this.originalSize=i.size,this.data=i.data},f.prototype.updateFrom=function(i){return this.from=i,this},v.a=f},function(p,v){typeof window!="undefined"&&(window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o){window.setTimeout(o,1e3/60)}}()),Math.imul=Math.imul||function(o,f){var i=o>>>16&65535,s=o&65535,n=f>>>16&65535,t=f&65535;return s*t+(i*t+s*n<<16>>>0)|0},typeof Object.assign!="function"&&(Object.assign=function(o){"use strict";if(o===null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(o),i=1;i<arguments.length;i++){var s=arguments[i];if(s!==null)for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(f[n]=s[n])}return f})},function(p,v){p.exports={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:0,decoder:{readers:["code_128_reader"],debug:{drawBoundingBox:!1,showFrequency:!1,drawScanline:!1,showPattern:!1}},locator:{halfSample:!0,patchSize:"medium",debug:{showCanvas:!1,showPatches:!1,showFoundPatches:!1,showSkeleton:!1,showLabels:!1,showPatchLabels:!1,showRemainingPatchLabels:!1,boxFromPatches:{showTransformed:!1,showTransformedBox:!1,showBB:!1}}}}},function(p,v,o){"use strict";var f=void 0;f=o(55),v.a=f},function(p,v,o){"use strict";var f=o(58),i=o(9),s=o(69),n=o(4),t=o(31),e=o(70),r=o(68),a=o(77),u=o(74),c=o(72),l=o(73),d=o(76),h=o(75),g=o(67),y=o(71),m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},x={code_128_reader:s.a,ean_reader:n.a,ean_5_reader:l.a,ean_2_reader:c.a,ean_8_reader:u.a,code_39_reader:t.a,code_39_vin_reader:e.a,codabar_reader:r.a,upc_reader:a.a,upc_e_reader:d.a,i2of5_reader:h.a,"2of5_reader":g.a,code_93_reader:y.a};v.a={create:function(O,R){var S={ctx:{frequency:null,pattern:null,overlay:null},dom:{frequency:null,pattern:null,overlay:null}},N=[];L(),K(),Z();function L(){if(typeof document!="undefined"){var F=document.querySelector("#debug.detection");S.dom.frequency=document.querySelector("canvas.frequency"),S.dom.frequency||(S.dom.frequency=document.createElement("canvas"),S.dom.frequency.className="frequency",F&&F.appendChild(S.dom.frequency)),S.ctx.frequency=S.dom.frequency.getContext("2d"),S.dom.pattern=document.querySelector("canvas.patternBuffer"),S.dom.pattern||(S.dom.pattern=document.createElement("canvas"),S.dom.pattern.className="patternBuffer",F&&F.appendChild(S.dom.pattern)),S.ctx.pattern=S.dom.pattern.getContext("2d"),S.dom.overlay=document.querySelector("canvas.drawingBuffer"),S.dom.overlay&&(S.ctx.overlay=S.dom.overlay.getContext("2d"))}}function K(){O.readers.forEach(function(F){var V,$={},k=[];(typeof F=="undefined"?"undefined":m(F))==="object"?(V=F.format,$=F.config):typeof F=="string"&&(V=F),console.log("Before registering reader: ",V),$.supplements&&(k=$.supplements.map(function(j){return new x[j]})),N.push(new x[V]($,k))}),console.log("Registered Readers: "+N.map(function(F){return JSON.stringify({format:F.FORMAT,config:F.config})}).join(", "))}function Z(){if(typeof document!="undefined"){var F,V=[{node:S.dom.frequency,prop:O.debug.showFrequency},{node:S.dom.pattern,prop:O.debug.showPattern}];for(F=0;F<V.length;F++)V[F].prop===!0?V[F].node.style.display="block":V[F].node.style.display="none"}}function H(F,V,$){function k(j){var C={y:j*Math.sin(V),x:j*Math.cos(V)};F[0].y-=C.y,F[0].x-=C.x,F[1].y+=C.y,F[1].x+=C.x}for(k($);$>1&&(!R.inImageWithBorder(F[0],0)||!R.inImageWithBorder(F[1],0));)$-=Math.ceil($/2),k(-$);return F}function J(F){return[{x:(F[1][0]-F[0][0])/2+F[0][0],y:(F[1][1]-F[0][1])/2+F[0][1]},{x:(F[3][0]-F[2][0])/2+F[2][0],y:(F[3][1]-F[2][1])/2+F[2][1]}]}function Q(F){var V=null,$,k=f.a.getBarcodeLine(R,F[0],F[1]);for(O.debug.showFrequency&&(i.a.drawPath(F,{x:"x",y:"y"},S.ctx.overlay,{color:"red",lineWidth:3}),f.a.debug.printFrequency(k.line,S.dom.frequency)),f.a.toBinaryLine(k),O.debug.showPattern&&f.a.debug.printPattern(k.line,S.dom.pattern),$=0;$<N.length&&V===null;$++)V=N[$].decodePattern(k.line);return V===null?null:{codeResult:V,barcodeLine:k}}function ot(F,V,$){var k=Math.sqrt(Math.pow(F[1][0]-F[0][0],2)+Math.pow(F[1][1]-F[0][1],2)),j,C=16,T=null,E,_,A=Math.sin($),b=Math.cos($);for(j=1;j<C&&T===null;j++)E=k/C*j*(j%2===0?-1:1),_={y:E*A,x:E*b},V[0].y+=_.x,V[0].x-=_.y,V[1].y+=_.x,V[1].x-=_.y,T=Q(V);return T}function rt(F){return Math.sqrt(Math.pow(Math.abs(F[1].y-F[0].y),2)+Math.pow(Math.abs(F[1].x-F[0].x),2))}function at(F){var V,$,k=S.ctx.overlay,j,C;return O.debug.drawBoundingBox&&k&&i.a.drawPath(F,{x:0,y:1},k,{color:"blue",lineWidth:2}),V=J(F),C=rt(V),$=Math.atan2(V[1].y-V[0].y,V[1].x-V[0].x),V=H(V,$,Math.floor(C*.1)),V===null||(j=Q(V),j===null&&(j=ot(F,V,$)),j===null)?null:(j&&O.debug.drawScanline&&k&&i.a.drawPath(V,{x:"x",y:"y"},k,{color:"red",lineWidth:3}),{codeResult:j.codeResult,line:V,angle:$,pattern:j.barcodeLine.line,threshold:j.barcodeLine.threshold})}return{decodeFromBoundingBox:function(V){return at(V)},decodeFromBoundingBoxes:function(V){var $,k,j=[],C=O.multiple;for($=0;$<V.length;$++){var T=V[$];if(k=at(T)||{},k.box=T,C)j.push(k);else if(k.codeResult)return k}if(C)return{barcodes:j}},setReaders:function(V){O.readers=V,N.length=0,K()}}}}},function(p,v,o){"use strict";var f=o(20),i={},s={DIR:{UP:1,DOWN:-1}};i.getBarcodeLine=function(n,t,e){var r=t.x|0,a=t.y|0,u=e.x|0,c=e.y|0,l=Math.abs(c-a)>Math.abs(u-r),d,h,g,y,m,x,D,O=[],R=n.data,S=n.size.x,N=0,L,K=255,Z=0;function H(J,Q){L=R[Q*S+J],N+=L,K=L<K?L:K,Z=L>Z?L:Z,O.push(L)}for(l&&(x=r,r=a,a=x,x=u,u=c,c=x),r>u&&(x=r,r=u,u=x,x=a,a=c,c=x),d=u-r,h=Math.abs(c-a),g=d/2|0,m=a,y=a<c?1:-1,D=r;D<u;D++)l?H(m,D):H(D,m),g=g-h,g<0&&(m=m+y,g=g+d);return{line:O,min:K,max:Z}},i.toBinaryLine=function(n){var t=n.min,e=n.max,r=n.line,a,u,c=t+(e-t)/2,l=[],d,h,g=(e-t)/12,y=-g,m,x;for(d=r[0]>c?s.DIR.UP:s.DIR.DOWN,l.push({pos:0,val:r[0]}),m=0;m<r.length-2;m++)a=r[m+1]-r[m],u=r[m+2]-r[m+1],a+u<y&&r[m+1]<c*1.5?h=s.DIR.DOWN:a+u>g&&r[m+1]>c*.5?h=s.DIR.UP:h=d,d!==h&&(l.push({pos:m,val:r[m]}),d=h);for(l.push({pos:r.length,val:r[r.length-1]}),x=l[0].pos;x<l[1].pos;x++)r[x]=r[x]>c?0:1;for(m=1;m<l.length-1;m++)for(l[m+1].val>l[m].val?g=l[m].val+(l[m+1].val-l[m].val)/3*2|0:g=l[m+1].val+(l[m].val-l[m+1].val)/3|0,x=l[m].pos;x<l[m+1].pos;x++)r[x]=r[x]>g?0:1;return{line:r,threshold:g}},i.debug={printFrequency:function(t,e){var r,a=e.getContext("2d");for(e.width=t.length,e.height=256,a.beginPath(),a.strokeStyle="blue",r=0;r<t.length;r++)a.moveTo(r,255),a.lineTo(r,255-t[r]);a.stroke(),a.closePath()},printPattern:function(t,e){var r=e.getContext("2d"),a;for(e.width=t.length,r.fillColor="black",a=0;a<t.length;a++)t[a]===1&&r.fillRect(a,0,1,100)}},v.a=i},function(p,v,o){"use strict";var f=o(162),i=o.n(f),s=o(52),n={user:/front/i,environment:/back/i},t;function e(d){return new Promise(function(h,g){var y=10;function m(){y>0?d.videoWidth>10&&d.videoHeight>10?(console.log(d.videoWidth+"px x "+d.videoHeight+"px"),h()):window.setTimeout(m,500):g("Unable to play video stream. Is webcam working?"),y--}m()})}function r(d,h){return o.i(s.a)(h).then(function(g){return new Promise(function(y){t=g,d.setAttribute("autoplay",!0),d.setAttribute("muted",!0),d.setAttribute("playsinline",!0),d.srcObject=g,d.addEventListener("loadedmetadata",function(){d.play(),y()})})}).then(e.bind(null,d))}function a(d){var h=i()(d,["width","height","facingMode","aspectRatio","deviceId"]);return typeof d.minAspectRatio!="undefined"&&d.minAspectRatio>0&&(h.aspectRatio=d.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),typeof d.facing!="undefined"&&(h.facingMode=d.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),h}function u(d){var h={audio:!1,video:a(d)};return h.video.deviceId&&h.video.facingMode&&delete h.video.facingMode,Promise.resolve(h)}function c(){return o.i(s.b)().then(function(d){return d.filter(function(h){return h.kind==="videoinput"})})}function l(){if(t){var d=t.getVideoTracks();if(d&&d.length)return d[0]}}v.a={request:function(h,g){return u(g).then(r.bind(null,h))},release:function(){var h=t&&t.getVideoTracks();h&&h.length&&h[0].stop(),t=null},enumerateVideoDevices:c,getActiveStreamLabel:function(){var h=l();return h?h.label:""},getActiveTrack:l}},function(p,v,o){"use strict";v.a=s;var f={274:"orientation"},i=Object.keys(f).map(function(d){return f[d]});function s(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i;return/^blob\:/i.test(d)?e(d).then(t).then(function(g){return r(g,h)}):Promise.resolve(null)}function n(d){for(var h=d.replace(/^data\:([^\;]+)\;base64,/gmi,""),g=atob(h),y=g.length,m=new ArrayBuffer(y),x=new Uint8Array(m),D=0;D<y;D++)x[D]=g.charCodeAt(D);return m}function t(d){return new Promise(function(h){var g=new FileReader;g.onload=function(y){return h(y.target.result)},g.readAsArrayBuffer(d)})}function e(d){return new Promise(function(h,g){var y=new XMLHttpRequest;y.open("GET",d,!0),y.responseType="blob",y.onreadystatechange=function(){y.readyState===XMLHttpRequest.DONE&&(y.status===200||y.status===0)&&h(this.response)},y.onerror=g,y.send()})}function r(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,g=new DataView(d),y=d.byteLength,m=h.reduce(function(O,R){var S=Object.keys(f).filter(function(N){return f[N]===R})[0];return S&&(O[S]=R),O},{}),x=2,D=void 0;if(g.getUint8(0)!==255||g.getUint8(1)!==216)return!1;for(;x<y;){if(g.getUint8(x)!==255)return!1;if(D=g.getUint8(x+1),D===225)return a(g,x+4,m);x+=2+g.getUint16(x+2)}}function a(d,h,g){if(l(d,h,4)!=="Exif")return!1;var y=h+6,m=void 0,x=void 0;if(d.getUint16(y)===18761)m=!1;else if(d.getUint16(y)===19789)m=!0;else return!1;if(d.getUint16(y+2,!m)!==42)return!1;var D=d.getUint32(y+4,!m);return D<8?!1:(x=u(d,y,y+D,g,m),x)}function u(d,h,g,y,m){for(var x=d.getUint16(g,!m),D={},O=0;O<x;O++){var R=g+O*12+2,S=y[d.getUint16(R,!m)];S&&(D[S]=c(d,R,h,g,m))}return D}function c(d,h,g,y,m){var x=d.getUint16(h+2,!m),D=d.getUint32(h+4,!m);switch(x){case 3:if(D===1)return d.getUint16(h+8,!m)}}function l(d,h,g){for(var y="",m=h;m<h+g;m++)y+=String.fromCharCode(d.getUint8(m));return y}},function(p,v,o){"use strict";var f=o(19),i=Math.PI/180;function s(t,e){t.width!==e.x&&(console.log("WARNING: canvas-size needs to be adjusted"),t.width=e.x),t.height!==e.y&&(console.log("WARNING: canvas-size needs to be adjusted"),t.height=e.y)}var n={};n.create=function(t,e){var r={},a=t.getConfig(),u=o.i(f.b)(t.getRealWidth(),t.getRealHeight()),c=t.getCanvasSize(),l=o.i(f.b)(t.getWidth(),t.getHeight()),d=t.getTopRight(),h=d.x,g=d.y,y,m=null,x=null;return y=e||document.createElement("canvas"),y.width=c.x,y.height=c.y,m=y.getContext("2d"),x=new Uint8Array(l.x*l.y),console.log("FrameGrabber",JSON.stringify({size:l,topRight:d,videoSize:u,canvasSize:c})),r.attachData=function(D){x=D},r.getData=function(){return x},r.grab=function(){var D=a.halfSample,O=t.getFrame(),R=O,S=0,N;if(R){if(s(y,c),a.type==="ImageStream"&&(R=O.img,O.tags&&O.tags.orientation))switch(O.tags.orientation){case 6:S=90*i;break;case 8:S=-90*i;break}return S!==0?(m.translate(c.x/2,c.y/2),m.rotate(S),m.drawImage(R,-c.y/2,-c.x/2,c.y,c.x),m.rotate(-S),m.translate(-c.x/2,-c.y/2)):m.drawImage(R,0,0,c.x,c.y),N=m.getImageData(h,g,l.x,l.y).data,D?o.i(f.c)(N,l,x):o.i(f.d)(N,x,a),!0}else return!1},r.getSize=function(){return l},r},v.a=n},function(p,v,o){"use strict";var f=o(60),i={};i.load=function(n,t,e,r,a){var u=new Array(r),c=new Array(u.length),l,d,h;if(a===!1)u[0]=n;else for(l=0;l<u.length;l++)h=e+l,u[l]=n+"image-"+("00"+h).slice(-3)+".jpg";for(c.notLoaded=[],c.addImage=function(g){c.notLoaded.push(g)},c.loaded=function(g){for(var y=c.notLoaded,m=0;m<y.length;m++)if(y[m]===g){y.splice(m,1);for(var x=0;x<u.length;x++){var D=u[x].substr(u[x].lastIndexOf("/"));if(g.src.lastIndexOf(D)!==-1){c[x]={img:g};break}}break}y.length===0&&(console.log("Images loaded"),a===!1?o.i(f.a)(n,["orientation"]).then(function(O){c[0].tags=O,t(c)}).catch(function(O){console.log(O),t(c)}):t(c))},l=0;l<u.length;l++)d=new Image,c.addImage(d),s(d,c),d.src=u[l]};function s(n,t){n.onload=function(){t.loaded(this)}}v.a=i},function(p,v,o){"use strict";var f=o(62),i={};i.createVideoStream=function(s){var n={},t=null,e=["canrecord","ended"],r={},a,u,c={x:0,y:0},l={x:0,y:0};function d(){var h=s.videoWidth,g=s.videoHeight;a=t.size?h/g>1?t.size:Math.floor(h/g*t.size):h,u=t.size?h/g>1?Math.floor(g/h*t.size):t.size:g,l.x=a,l.y=u}return n.getRealWidth=function(){return s.videoWidth},n.getRealHeight=function(){return s.videoHeight},n.getWidth=function(){return a},n.getHeight=function(){return u},n.setWidth=function(h){a=h},n.setHeight=function(h){u=h},n.setInputStream=function(h){t=h,s.src=typeof h.src!="undefined"?h.src:""},n.ended=function(){return s.ended},n.getConfig=function(){return t},n.setAttribute=function(h,g){s.setAttribute(h,g)},n.pause=function(){s.pause()},n.play=function(){s.play()},n.setCurrentTime=function(h){t.type!=="LiveStream"&&(s.currentTime=h)},n.addEventListener=function(h,g,y){e.indexOf(h)!==-1?(r[h]||(r[h]=[]),r[h].push(g)):s.addEventListener(h,g,y)},n.clearEventHandlers=function(){e.forEach(function(h){var g=r[h];g&&g.length>0&&g.forEach(function(y){s.removeEventListener(h,y)})})},n.trigger=function(h,g){var y,m=r[h];if(h==="canrecord"&&d(),m&&m.length>0)for(y=0;y<m.length;y++)m[y].apply(n,g)},n.setTopRight=function(h){c.x=h.x,c.y=h.y},n.getTopRight=function(){return c},n.setCanvasSize=function(h){l.x=h.x,l.y=h.y},n.getCanvasSize=function(){return l},n.getFrame=function(){return s},n},i.createLiveStream=function(s){s.setAttribute("autoplay",!0);var n=i.createVideoStream(s);return n.ended=function(){return!1},n},i.createImageStream=function(){var s={},n=null,t=0,e=0,r=0,a=!0,u=!1,c=null,l=0,d=1,h=null,g=!1,y,m,x=["canrecord","ended"],D={},O={x:0,y:0},R={x:0,y:0};function S(){u=!1,f.a.load(h,function(L){if(c=L,L[0].tags&&L[0].tags.orientation)switch(L[0].tags.orientation){case 6:case 8:t=L[0].img.height,e=L[0].img.width;break;default:t=L[0].img.width,e=L[0].img.height}else t=L[0].img.width,e=L[0].img.height;y=n.size?t/e>1?n.size:Math.floor(t/e*n.size):t,m=n.size?t/e>1?Math.floor(e/t*n.size):n.size:e,R.x=y,R.y=m,u=!0,r=0,setTimeout(function(){N("canrecord",[])},0)},d,l,n.sequence)}function N(L,K){var Z,H=D[L];if(H&&H.length>0)for(Z=0;Z<H.length;Z++)H[Z].apply(s,K)}return s.trigger=N,s.getWidth=function(){return y},s.getHeight=function(){return m},s.setWidth=function(L){y=L},s.setHeight=function(L){m=L},s.getRealWidth=function(){return t},s.getRealHeight=function(){return e},s.setInputStream=function(L){n=L,L.sequence===!1?(h=L.src,l=1):(h=L.src,l=L.length),S()},s.ended=function(){return g},s.setAttribute=function(){},s.getConfig=function(){return n},s.pause=function(){a=!0},s.play=function(){a=!1},s.setCurrentTime=function(L){r=L},s.addEventListener=function(L,K){x.indexOf(L)!==-1&&(D[L]||(D[L]=[]),D[L].push(K))},s.setTopRight=function(L){O.x=L.x,O.y=L.y},s.getTopRight=function(){return O},s.setCanvasSize=function(L){R.x=L.x,R.y=L.y},s.getCanvasSize=function(){return R},s.getFrame=function(){var L;return u?(a||(L=c[r],r<l-1?r++:setTimeout(function(){g=!0,N("ended",[])},0)),L):null},s},v.a=i},function(p,v,o){"use strict";(function(f){var i=o(20),s=o(19),n=o(3),t=o(9),e=o(65),r=o(30),a=o(66),u={clone:o(7),dot:o(32),scale:o(81),transformMat2:o(82)},c={copy:o(78),create:o(79),invert:o(80)},l,d,h,g,y,m,x,D,O,R,S={ctx:{binary:null},dom:{binary:null}},N={x:0,y:0},L,K;function Z(){var j;l.halfSample?d=new i.a({x:L.size.x/2|0,y:L.size.y/2|0}):d=L,R=o.i(s.e)(l.patchSize,d.size),N.x=d.size.x/R.x|0,N.y=d.size.y/R.y|0,O=new i.a(d.size,void 0,Uint8Array,!1),y=new i.a(R,void 0,Array,!0),j=new ArrayBuffer(64*1024),g=new i.a(R,new Uint8Array(j,0,R.x*R.y)),h=new i.a(R,new Uint8Array(j,R.x*R.y*3,R.x*R.y),void 0,!0),K=o.i(a.a)(typeof window!="undefined"?window:typeof self!="undefined"?self:f,{size:R.x},j),D=new i.a({x:d.size.x/g.size.x|0,y:d.size.y/g.size.y|0},void 0,Array,!0),m=new i.a(D.size,void 0,void 0,!0),x=new i.a(D.size,void 0,Int32Array,!0)}function H(){l.useWorker||typeof document=="undefined"||(S.dom.binary=document.createElement("canvas"),S.dom.binary.className="binaryBuffer",l.debug.showCanvas===!0&&document.querySelector("#debug").appendChild(S.dom.binary),S.ctx.binary=S.dom.binary.getContext("2d"),S.dom.binary.width=O.size.x,S.dom.binary.height=O.size.y)}function J(j){var C,T,E,_,A,b=O.size.x,I=O.size.y,z=-O.size.x,B=-O.size.y,w,U;for(C=0,T=0;T<j.length;T++)_=j[T],C+=_.rad,l.debug.showPatches&&t.a.drawRect(_.pos,g.size,S.ctx.binary,{color:"red"});for(C/=j.length,C=(C*180/Math.PI+90)%180-90,C<0&&(C+=180),C=(180-C)*Math.PI/180,A=c.copy(c.create(),[Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C)]),T=0;T<j.length;T++){for(_=j[T],E=0;E<4;E++)u.transformMat2(_.box[E],_.box[E],A);l.debug.boxFromPatches.showTransformed&&t.a.drawPath(_.box,{x:0,y:1},S.ctx.binary,{color:"#99ff00",lineWidth:2})}for(T=0;T<j.length;T++)for(_=j[T],E=0;E<4;E++)_.box[E][0]<b&&(b=_.box[E][0]),_.box[E][0]>z&&(z=_.box[E][0]),_.box[E][1]<I&&(I=_.box[E][1]),_.box[E][1]>B&&(B=_.box[E][1]);for(w=[[b,I],[z,I],[z,B],[b,B]],l.debug.boxFromPatches.showTransformedBox&&t.a.drawPath(w,{x:0,y:1},S.ctx.binary,{color:"#ff0000",lineWidth:2}),U=l.halfSample?2:1,A=c.invert(A,A),E=0;E<4;E++)u.transformMat2(w[E],w[E],A);for(l.debug.boxFromPatches.showBB&&t.a.drawPath(w,{x:0,y:1},S.ctx.binary,{color:"#ff0000",lineWidth:2}),E=0;E<4;E++)u.scale(w[E],w[E],U);return w}function Q(){o.i(s.f)(d,O),O.zeroBorder(),l.debug.showCanvas&&O.show(S.dom.binary,255)}function ot(){var j,C,T,E,_,A=[],b,I,z;for(j=0;j<N.x;j++)for(C=0;C<N.y;C++)T=g.size.x*j,E=g.size.y*C,V(T,E),h.zeroBorder(),n.a.init(y.data,0),b=e.a.create(h,y),I=b.rasterize(0),l.debug.showLabels&&y.overlay(S.dom.binary,Math.floor(360/I.count),{x:T,y:E}),_=y.moments(I.count),A=A.concat($(_,[j,C],T,E));if(l.debug.showFoundPatches)for(j=0;j<A.length;j++)z=A[j],t.a.drawRect(z.pos,g.size,S.ctx.binary,{color:"#99ff00",lineWidth:2});return A}function rt(j){var C,T,E=[],_=[];for(C=0;C<j;C++)E.push(0);for(T=x.data.length;T--;)x.data[T]>0&&E[x.data[T]-1]++;return E=E.map(function(A,b){return{val:A,label:b+1}}),E.sort(function(A,b){return b.val-A.val}),_=E.filter(function(A){return A.val>=5}),_}function at(j,C){var T,E,_,A=[],b,I,z=[],B=[0,1,1],w=[0,0,0];for(T=0;T<j.length;T++){for(_=x.data.length,A.length=0;_--;)x.data[_]===j[T].label&&(b=D.data[_],A.push(b));if(I=J(A),I&&(z.push(I),l.debug.showRemainingPatchLabels))for(E=0;E<A.length;E++)b=A[E],B[0]=j[T].label/(C+1)*360,o.i(s.a)(B,w),t.a.drawRect(b.pos,g.size,S.ctx.binary,{color:"rgb("+w.join(",")+")",lineWidth:2})}return z}function F(j){var C=o.i(s.g)(j,.9),T=o.i(s.h)(C,1,function(b){return b.getPoints().length}),E=[],_=[];if(T.length===1){E=T[0].item.getPoints();for(var A=0;A<E.length;A++)_.push(E[A].point)}return _}function V(j,C){O.subImageAsCopy(g,o.i(s.b)(j,C)),K.skeletonize(),l.debug.showSkeleton&&h.overlay(S.dom.binary,360,o.i(s.b)(j,C))}function $(j,C,T,E){var _,A,b=[],I,z,B=[],w=Math.ceil(R.x/3);if(j.length>=2){for(_=0;_<j.length;_++)j[_].m00>w&&b.push(j[_]);if(b.length>=2){for(I=F(b),A=0,_=0;_<I.length;_++)A+=I[_].rad;I.length>1&&I.length>=b.length/4*3&&I.length>j.length/4&&(A/=I.length,z={index:C[1]*N.x+C[0],pos:{x:T,y:E},box:[u.clone([T,E]),u.clone([T+g.size.x,E]),u.clone([T+g.size.x,E+g.size.y]),u.clone([T,E+g.size.y])],moments:I,rad:A,vec:u.clone([Math.cos(A),Math.sin(A)])},B.push(z))}}return B}function k(j){var C=0,T=.95,E=0,_,A,b=[0,1,1],I=[0,0,0];function z(){var w;for(w=0;w<x.data.length;w++)if(x.data[w]===0&&m.data[w]===1)return w;return x.length}function B(w){var U,G,X,P,M,W={x:w%x.size.x,y:w/x.size.x|0},Y;if(w<x.data.length)for(X=D.data[w],x.data[w]=C,M=0;M<r.a.searchDirections.length;M++){if(G=W.y+r.a.searchDirections[M][0],U=W.x+r.a.searchDirections[M][1],P=G*x.size.x+U,m.data[P]===0){x.data[P]=Number.MAX_VALUE;continue}x.data[P]===0&&(Y=Math.abs(u.dot(D.data[P].vec,X.vec)),Y>T&&B(P))}}for(n.a.init(m.data,0),n.a.init(x.data,0),n.a.init(D.data,null),_=0;_<j.length;_++)A=j[_],D.data[A.index]=A,m.data[A.index]=1;for(m.zeroBorder();(E=z())<x.data.length;)C++,B(E);if(l.debug.showPatchLabels)for(_=0;_<x.data.length;_++)x.data[_]>0&&x.data[_]<=C&&(A=D.data[_],b[0]=x.data[_]/(C+1)*360,o.i(s.a)(b,I),t.a.drawRect(A.pos,g.size,S.ctx.binary,{color:"rgb("+I.join(",")+")",lineWidth:2}));return C}v.a={init:function(C,T){l=T,L=C,Z(),H()},locate:function(){var C,T,E;if(l.halfSample&&o.i(s.i)(L,d),Q(),C=ot(),C.length<N.x*N.y*.05)return null;var _=k(C);return _<1||(T=rt(_),T.length===0)?null:(E=at(T,_),E)},checkImageConstraints:function(C,T){var E,_=C.getWidth(),A=C.getHeight(),b=T.halfSample?.5:1,I,z;if(C.getConfig().area&&(z=o.i(s.j)(_,A,C.getConfig().area),C.setTopRight({x:z.sx,y:z.sy}),C.setCanvasSize({x:_,y:A}),_=z.sw,A=z.sh),I={x:Math.floor(_*b),y:Math.floor(A*b)},E=o.i(s.e)(T.patchSize,I),console.log("Patch-Size: "+JSON.stringify(E)),C.setWidth(Math.floor(Math.floor(I.x/E.x)*(1/b)*E.x)),C.setHeight(Math.floor(Math.floor(I.y/E.y)*(1/b)*E.y)),C.getWidth()%E.x===0&&C.getHeight()%E.y===0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width ("+_+" )and height ("+A+") must a multiple of "+E.x)}}}).call(v,o(47))},function(p,v,o){"use strict";var f=o(30),i={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(n,t){var e=n.data,r=t.data,a=n.size.x,u=n.size.y,c=f.a.create(n,t);return{rasterize:function(d){var h,g,y,m,x,D,O=[],R,S,N,L,K,Z=0,H;for(H=0;H<400;H++)O[H]=0;for(O[0]=e[0],N=null,D=1;D<u-1;D++)for(m=0,g=O[0],x=1;x<a-1;x++)if(K=D*a+x,r[K]===0)if(h=e[K],h!==g){if(m===0)y=Z+1,O[y]=h,g=h,R=c.contourTracing(D,x,y,h,i.DIR.OUTSIDE_EDGE),R!==null&&(Z++,m=y,S=i.createContour2D(),S.dir=i.CONTOUR_DIR.CW_DIR,S.index=m,S.firstVertex=R,S.nextpeer=N,S.insideContours=null,N!==null&&(N.prevpeer=S),N=S);else if(R=c.contourTracing(D,x,i.DIR.INSIDE_EDGE,h,m),R!==null){for(S=i.createContour2D(),S.firstVertex=R,S.insideContours=null,d===0?S.dir=i.CONTOUR_DIR.CCW_DIR:S.dir=i.CONTOUR_DIR.CW_DIR,S.index=d,L=N;L!==null&&L.index!==m;)L=L.nextpeer;L!==null&&(S.nextpeer=L.insideContours,L.insideContours!==null&&(L.insideContours.prevpeer=S),L.insideContours=S)}}else r[K]=m;else r[K]===i.DIR.OUTSIDE_EDGE||r[K]===i.DIR.INSIDE_EDGE?(m=0,r[K]===i.DIR.INSIDE_EDGE?g=e[K]:g=O[0]):(m=r[K],g=O[m]);for(L=N;L!==null;)L.index=d,L=L.nextpeer;return{cc:N,count:Z}},debug:{drawContour:function(d,h){var g=d.getContext("2d"),y=h,m,x,D;for(g.strokeStyle="red",g.fillStyle="red",g.lineWidth=1,y!==null?m=y.insideContours:m=null;y!==null;){switch(m!==null?(x=m,m=m.nextpeer):(x=y,y=y.nextpeer,y!==null?m=y.insideContours:m=null),x.dir){case i.CONTOUR_DIR.CW_DIR:g.strokeStyle="red";break;case i.CONTOUR_DIR.CCW_DIR:g.strokeStyle="blue";break;case i.CONTOUR_DIR.UNKNOWN_DIR:g.strokeStyle="green";break}D=x.firstVertex,g.beginPath(),g.moveTo(D.x,D.y);do D=D.next,g.lineTo(D.x,D.y);while(D!==x.firstVertex);g.stroke()}}}}}};v.a=i},function(p,v,o){"use strict";function f(i,s,n){var t=new i.Uint8Array(n),e=s.size|0,r=i.Math.imul;function a(x,D){x=x|0,D=D|0;var O=0,R=0,S=0,N=0,L=0,K=0,Z=0,H=0;for(O=1;(O|0)<(e-1|0);O=O+1|0)for(H=H+e|0,R=1;(R|0)<(e-1|0);R=R+1|0)N=H-e|0,L=H+e|0,K=R-1|0,Z=R+1|0,S=(t[x+N+K|0]|0)+(t[x+N+Z|0]|0)+(t[x+H+R|0]|0)+(t[x+L+K|0]|0)+(t[x+L+Z|0]|0)|0,(S|0)==5?t[D+H+R|0]=1:t[D+H+R|0]=0}function u(x,D,O){x=x|0,D=D|0,O=O|0;var R=0;for(R=r(e,e)|0;(R|0)>0;)R=R-1|0,t[O+R|0]=(t[x+R|0]|0)-(t[D+R|0]|0)|0}function c(x,D,O){x=x|0,D=D|0,O=O|0;var R=0;for(R=r(e,e)|0;(R|0)>0;)R=R-1|0,t[O+R|0]=t[x+R|0]|0|(t[D+R|0]|0)|0}function l(x){x=x|0;var D=0,O=0;for(O=r(e,e)|0;(O|0)>0;)O=O-1|0,D=(D|0)+(t[x+O|0]|0)|0;return D|0}function d(x,D){x=x|0,D=D|0;var O=0;for(O=r(e,e)|0;(O|0)>0;)O=O-1|0,t[x+O|0]=D}function h(x,D){x=x|0,D=D|0;var O=0,R=0,S=0,N=0,L=0,K=0,Z=0,H=0;for(O=1;(O|0)<(e-1|0);O=O+1|0)for(H=H+e|0,R=1;(R|0)<(e-1|0);R=R+1|0)N=H-e|0,L=H+e|0,K=R-1|0,Z=R+1|0,S=(t[x+N+K|0]|0)+(t[x+N+Z|0]|0)+(t[x+H+R|0]|0)+(t[x+L+K|0]|0)+(t[x+L+Z|0]|0)|0,(S|0)>0?t[D+H+R|0]=1:t[D+H+R|0]=0}function g(x,D){x=x|0,D=D|0;var O=0;for(O=r(e,e)|0;(O|0)>0;)O=O-1|0,t[D+O|0]=t[x+O|0]|0}function y(x){x=x|0;var D=0,O=0;for(D=0;(D|0)<(e-1|0);D=D+1|0)t[x+D|0]=0,t[x+O|0]=0,O=O+e-1|0,t[x+O|0]=0,O=O+1|0;for(D=0;(D|0)<(e|0);D=D+1|0)t[x+O|0]=0,O=O+1|0}function m(){var x=0,D=0,O=0,R=0,S=0,N=0;D=r(e,e)|0,O=D+D|0,R=O+D|0,d(R,0),y(x);do a(x,D),h(D,O),u(x,O,O),c(R,O,R),g(D,x),S=l(x)|0,N=(S|0)==0|0;while(!N)}return{skeletonize:m}}v.a=f},function(p,v,o){"use strict";var f=o(1);function i(r){f.a.call(this,r),this.barSpaceRatio=[1,1]}var s=1,n=3,t={START_PATTERN:{value:[n,s,n,s,s,s]},STOP_PATTERN:{value:[n,s,s,s,n]},CODE_PATTERN:{value:[[s,s,n,n,s],[n,s,s,s,n],[s,n,s,s,n],[n,n,s,s,s],[s,s,n,s,n],[n,s,n,s,s],[s,n,n,s,s],[s,s,s,n,n],[n,s,s,n,s],[s,n,s,n,s]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.3,writable:!0},FORMAT:{value:"2of5"}},e=t.START_PATTERN.value.reduce(function(r,a){return r+a},0);i.prototype=Object.create(f.a.prototype,t),i.prototype.constructor=i,i.prototype._findPattern=function(r,a,u,c){var l=[],d=this,h,g=0,y={error:Number.MAX_VALUE,code:-1,start:0,end:0},m,x,D,O=d.AVG_CODE_ERROR;for(u=u||!1,c=c||!1,a||(a=d._nextSet(d._row)),h=0;h<r.length;h++)l[h]=0;for(h=a;h<d._row.length;h++)if(d._row[h]^u)l[g]++;else{if(g===l.length-1){for(D=0,x=0;x<l.length;x++)D+=l[x];if(m=d._matchPattern(l,r),m<O)return y.error=m,y.start=h-D,y.end=h,y;if(c){for(x=0;x<l.length-2;x++)l[x]=l[x+2];l[l.length-2]=0,l[l.length-1]=0,g--}else return null}else g++;l[g]=1,u=!u}return null},i.prototype._findStart=function(){for(var r=this,a,u=r._nextSet(r._row),c,l=1;!c;){if(c=r._findPattern(r.START_PATTERN,u,!1,!0),!c)return null;if(l=Math.floor((c.end-c.start)/e),a=c.start-l*5,a>=0&&r._matchRange(a,c.start,0))return c;u=c.end,c=null}},i.prototype._verifyTrailingWhitespace=function(r){var a=this,u;return u=r.end+(r.end-r.start)/2,u<a._row.length&&a._matchRange(r.end,u,0)?r:null},i.prototype._findEnd=function(){var r=this,a,u,c;return r._row.reverse(),c=r._nextSet(r._row),a=r._findPattern(r.STOP_PATTERN,c,!1,!0),r._row.reverse(),a===null?null:(u=a.start,a.start=r._row.length-a.end,a.end=r._row.length-u,a!==null?r._verifyTrailingWhitespace(a):null)},i.prototype._decodeCode=function(r){var a,u=this,c=0,l,d,h=u.AVG_CODE_ERROR,g,y={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(a=0;a<r.length;a++)c+=r[a];for(g=0;g<u.CODE_PATTERN.length;g++)d=u._matchPattern(r,u.CODE_PATTERN[g]),d<y.error&&(y.code=g,y.error=d);if(y.error<h)return y},i.prototype._decodePayload=function(r,a,u){for(var c,l=this,d=0,h=r.length,g=[0,0,0,0,0],y;d<h;){for(c=0;c<5;c++)g[c]=r[d]*this.barSpaceRatio[0],d+=2;if(y=l._decodeCode(g),!y)return null;a.push(y.code+""),u.push(y)}return y},i.prototype._verifyCounterLength=function(r){return r.length%10===0},i.prototype._decode=function(){var r,a,u=this,c,l=[],d=[],h;return r=u._findStart(),!r||(d.push(r),a=u._findEnd(),!a)||(h=u._fillCounters(r.end,a.start,!1),!u._verifyCounterLength(h))||(c=u._decodePayload(h,l,d),!c)||l.length<5?null:(d.push(a),{code:l.join(""),start:r.start,end:a.end,startInfo:r,decodedCodes:d})},v.a=i},function(p,v,o){"use strict";var f=o(1);function i(){f.a.call(this),this._counters=[]}var s={ALPHABETH_STRING:{value:"0123456789-$:/.+ABCD"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68]},CHARACTER_ENCODINGS:{value:[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14]},START_END:{value:[26,41,11,14]},MIN_ENCODED_CHARS:{value:4},MAX_ACCEPTABLE:{value:2},PADDING:{value:1.5},FORMAT:{value:"codabar",writeable:!1}};i.prototype=Object.create(f.a.prototype,s),i.prototype.constructor=i,i.prototype._decode=function(){var n=this,t=[],e,r,a,u,c;if(this._counters=n._fillCounters(),e=n._findStart(),!e)return null;u=e.startCounter;do{if(a=n._toPattern(u),a<0||(r=n._patternToChar(a),r<0))return null;if(t.push(r),u+=8,t.length>1&&n._isStartEnd(a))break}while(u<n._counters.length);return t.length-2<n.MIN_ENCODED_CHARS||!n._isStartEnd(a)||!n._verifyWhitespace(e.startCounter,u-8)||!n._validateResult(t,e.startCounter)?null:(u=u>n._counters.length?n._counters.length:u,c=e.start+n._sumCounters(e.startCounter,u-8),{code:t.join(""),start:e.start,end:c,startInfo:e,decodedCodes:t})},i.prototype._verifyWhitespace=function(n,t){return(n-1<=0||this._counters[n-1]>=this._calculatePatternLength(n)/2)&&(t+8>=this._counters.length||this._counters[t+7]>=this._calculatePatternLength(t)/2)},i.prototype._calculatePatternLength=function(n){var t,e=0;for(t=n;t<n+7;t++)e+=this._counters[t];return e},i.prototype._thresholdResultPattern=function(n,t){var e=this,r={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},a,u,c,l,d=t,h;for(c=0;c<n.length;c++){for(h=e._charToPattern(n[c]),l=6;l>=0;l--)a=(l&1)===2?r.bar:r.space,u=(h&1)===1?a.wide:a.narrow,u.size+=e._counters[d+l],u.counts++,h>>=1;d+=8}return["space","bar"].forEach(function(g){var y=r[g];y.wide.min=Math.floor((y.narrow.size/y.narrow.counts+y.wide.size/y.wide.counts)/2),y.narrow.max=Math.ceil(y.wide.min),y.wide.max=Math.ceil((y.wide.size*e.MAX_ACCEPTABLE+e.PADDING)/y.wide.counts)}),r},i.prototype._charToPattern=function(n){var t=this,e=n.charCodeAt(0),r;for(r=0;r<t.ALPHABET.length;r++)if(t.ALPHABET[r]===e)return t.CHARACTER_ENCODINGS[r];return 0},i.prototype._validateResult=function(n,t){var e=this,r=e._thresholdResultPattern(n,t),a,u,c,l,d,h=t,g;for(a=0;a<n.length;a++){for(g=e._charToPattern(n[a]),u=6;u>=0;u--){if(c=(u&1)===0?r.bar:r.space,l=(g&1)===1?c.wide:c.narrow,d=e._counters[h+u],d<l.min||d>l.max)return!1;g>>=1}h+=8}return!0},i.prototype._patternToChar=function(n){var t,e=this;for(t=0;t<e.CHARACTER_ENCODINGS.length;t++)if(e.CHARACTER_ENCODINGS[t]===n)return String.fromCharCode(e.ALPHABET[t]);return-1},i.prototype._computeAlternatingThreshold=function(n,t){var e,r=Number.MAX_VALUE,a=0,u;for(e=n;e<t;e+=2)u=this._counters[e],u>a&&(a=u),u<r&&(r=u);return(r+a)/2|0},i.prototype._toPattern=function(n){var t=7,e=n+t,r,a,u=1<<t-1,c=0,l,d;if(e>this._counters.length)return-1;for(r=this._computeAlternatingThreshold(n,e),a=this._computeAlternatingThreshold(n+1,e),l=0;l<t;l++)d=(l&1)===0?r:a,this._counters[n+l]>d&&(c|=u),u>>=1;return c},i.prototype._isStartEnd=function(n){var t;for(t=0;t<this.START_END.length;t++)if(this.START_END[t]===n)return!0;return!1},i.prototype._sumCounters=function(n,t){var e,r=0;for(e=n;e<t;e++)r+=this._counters[e];return r},i.prototype._findStart=function(){var n=this,t,e,r=n._nextUnset(n._row),a;for(t=1;t<this._counters.length;t++)if(e=n._toPattern(t),e!==-1&&n._isStartEnd(e))return r+=n._sumCounters(0,t),a=r+n._sumCounters(t,t+8),{start:r,end:a,startCounter:t,endCounter:t+8}},v.a=i},function(p,v,o){"use strict";var f=o(1);function i(){f.a.call(this)}var s={CODE_SHIFT:{value:98},CODE_C:{value:99},CODE_B:{value:100},CODE_A:{value:101},START_CODE_A:{value:103},START_CODE_B:{value:104},START_CODE_C:{value:105},STOP_CODE:{value:106},CODE_PATTERN:{value:[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]},SINGLE_CODE_ERROR:{value:.64},AVG_CODE_ERROR:{value:.3},FORMAT:{value:"code_128",writeable:!1},MODULE_INDICES:{value:{bar:[0,2,4],space:[1,3,5]}}};i.prototype=Object.create(f.a.prototype,s),i.prototype.constructor=i,i.prototype._decodeCode=function(t,e){var r=[0,0,0,0,0,0],a,u=this,c=t,l=!u._row[c],d=0,h={error:Number.MAX_VALUE,code:-1,start:t,end:t,correction:{bar:1,space:1}},g,y;for(a=c;a<u._row.length;a++)if(u._row[a]^l)r[d]++;else{if(d===r.length-1){for(e&&u._correct(r,e),g=0;g<u.CODE_PATTERN.length;g++)y=u._matchPattern(r,u.CODE_PATTERN[g]),y<h.error&&(h.code=g,h.error=y);return h.end=a,h.code===-1||h.error>u.AVG_CODE_ERROR?null:(u.CODE_PATTERN[h.code]&&(h.correction.bar=n(u.CODE_PATTERN[h.code],r,this.MODULE_INDICES.bar),h.correction.space=n(u.CODE_PATTERN[h.code],r,this.MODULE_INDICES.space)),h)}else d++;r[d]=1,l=!l}return null},i.prototype._correct=function(t,e){this._correctBars(t,e.bar,this.MODULE_INDICES.bar),this._correctBars(t,e.space,this.MODULE_INDICES.space)},i.prototype._findStart=function(){var t=[0,0,0,0,0,0],e,r=this,a=r._nextSet(r._row),u=!1,c=0,l={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},d,h,g,y;for(e=a;e<r._row.length;e++)if(r._row[e]^u)t[c]++;else{if(c===t.length-1){for(y=0,g=0;g<t.length;g++)y+=t[g];for(d=r.START_CODE_A;d<=r.START_CODE_C;d++)h=r._matchPattern(t,r.CODE_PATTERN[d]),h<l.error&&(l.code=d,l.error=h);if(l.error<r.AVG_CODE_ERROR)return l.start=e-y,l.end=e,l.correction.bar=n(r.CODE_PATTERN[l.code],t,this.MODULE_INDICES.bar),l.correction.space=n(r.CODE_PATTERN[l.code],t,this.MODULE_INDICES.space),l;for(g=0;g<4;g++)t[g]=t[g+2];t[4]=0,t[5]=0,c--}else c++;t[c]=1,u=!u}return null},i.prototype._decode=function(){var t=this,e=t._findStart(),r=null,a=!1,u=[],c=0,l=0,d,h=[],g=[],y=!1,m,x=!0;if(e===null)return null;switch(r={code:e.code,start:e.start,end:e.end,correction:{bar:e.correction.bar,space:e.correction.space}},g.push(r),l=r.code,r.code){case t.START_CODE_A:d=t.CODE_A;break;case t.START_CODE_B:d=t.CODE_B;break;case t.START_CODE_C:d=t.CODE_C;break;default:return null}for(;!a;){if(m=y,y=!1,r=t._decodeCode(r.end,r.correction),r!==null)switch(r.code!==t.STOP_CODE&&(x=!0),r.code!==t.STOP_CODE&&(h.push(r.code),c++,l+=c*r.code),g.push(r),d){case t.CODE_A:if(r.code<64)u.push(String.fromCharCode(32+r.code));else if(r.code<96)u.push(String.fromCharCode(r.code-64));else switch(r.code!==t.STOP_CODE&&(x=!1),r.code){case t.CODE_SHIFT:y=!0,d=t.CODE_B;break;case t.CODE_B:d=t.CODE_B;break;case t.CODE_C:d=t.CODE_C;break;case t.STOP_CODE:a=!0;break}break;case t.CODE_B:if(r.code<96)u.push(String.fromCharCode(32+r.code));else switch(r.code!==t.STOP_CODE&&(x=!1),r.code){case t.CODE_SHIFT:y=!0,d=t.CODE_A;break;case t.CODE_A:d=t.CODE_A;break;case t.CODE_C:d=t.CODE_C;break;case t.STOP_CODE:a=!0;break}break;case t.CODE_C:if(r.code<100)u.push(r.code<10?"0"+r.code:r.code);else switch(r.code!==t.STOP_CODE&&(x=!1),r.code){case t.CODE_A:d=t.CODE_A;break;case t.CODE_B:d=t.CODE_B;break;case t.STOP_CODE:a=!0;break}break}else a=!0;m&&(d=d===t.CODE_A?t.CODE_B:t.CODE_A)}return r===null||(r.end=t._nextUnset(t._row,r.end),!t._verifyTrailingWhitespace(r))||(l-=c*h[h.length-1],l%103!==h[h.length-1])||!u.length?null:(x&&u.splice(u.length-1,1),{code:u.join(""),start:e.start,end:r.end,codeset:d,startInfo:e,decodedCodes:g,endInfo:r})},f.a.prototype._verifyTrailingWhitespace=function(t){var e=this,r;return r=t.end+(t.end-t.start)/2,r<e._row.length&&e._matchRange(t.end,r,0)?t:null};function n(t,e,r){for(var a=r.length,u=0,c=0;a--;)c+=t[r[a]],u+=e[r[a]];return c/u}v.a=i},function(p,v,o){"use strict";var f=o(31);function i(){f.a.call(this)}var s={IOQ:/[IOQ]/g,AZ09:/[A-Z0-9]{17}/};i.prototype=Object.create(f.a.prototype),i.prototype.constructor=i,i.prototype._decode=function(){var n=f.a.prototype._decode.apply(this);if(!n)return null;var t=n.code;return t?(t=t.replace(s.IOQ,""),t.match(s.AZ09)?this._checkChecksum(t)?(n.code=t,n):null:(console.log("Failed AZ09 pattern code:",t),null)):null},i.prototype._checkChecksum=function(n){return!!n},v.a=i},function(p,v,o){"use strict";var f=o(1),i=o(3);function s(){f.a.call(this)}var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t={ALPHABETH_STRING:{value:n},ALPHABET:{value:n.split("").map(function(e){return e.charCodeAt(0)})},CHARACTER_ENCODINGS:{value:[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]},ASTERISK:{value:350},FORMAT:{value:"code_93",writeable:!1}};s.prototype=Object.create(f.a.prototype,t),s.prototype.constructor=s,s.prototype._decode=function(){var e=this,r=[0,0,0,0,0,0],a=[],u=e._findStart(),c,l,d,h;if(!u)return null;h=e._nextSet(e._row,u.end);do{if(r=e._toCounters(h,r),d=e._toPattern(r),d<0||(c=e._patternToChar(d),c<0))return null;a.push(c),l=h,h+=i.a.sum(r),h=e._nextSet(e._row,h)}while(c!=="*");return a.pop(),!a.length||!e._verifyEnd(l,h,r)||!e._verifyChecksums(a)||(a=a.slice(0,a.length-2),(a=e._decodeExtended(a))===null)?null:{code:a.join(""),start:u.start,end:h,startInfo:u,decodedCodes:a}},s.prototype._verifyEnd=function(e,r){return!(e===r||!this._row[r])},s.prototype._patternToChar=function(e){var r,a=this;for(r=0;r<a.CHARACTER_ENCODINGS.length;r++)if(a.CHARACTER_ENCODINGS[r]===e)return String.fromCharCode(a.ALPHABET[r]);return-1},s.prototype._toPattern=function(e){for(var r=e.length,a=0,u=0,c=0;c<r;c++)u+=e[c];for(var l=0;l<r;l++){var d=Math.round(e[l]*9/u);if(d<1||d>4)return-1;if((l&1)===0)for(var h=0;h<d;h++)a=a<<1|1;else a<<=d}return a},s.prototype._findStart=function(){var e=this,r=e._nextSet(e._row),a=r,u=[0,0,0,0,0,0],c=0,l=!1,d,h,g;for(d=r;d<e._row.length;d++)if(e._row[d]^l)u[c]++;else{if(c===u.length-1){if(e._toPattern(u)===e.ASTERISK&&(g=Math.floor(Math.max(0,a-(d-a)/4)),e._matchRange(g,a,0)))return{start:a,end:d};for(a+=u[0]+u[1],h=0;h<4;h++)u[h]=u[h+2];u[4]=0,u[5]=0,c--}else c++;u[c]=1,l=!l}return null},s.prototype._decodeExtended=function(e){for(var r=e.length,a=[],u=0;u<r;u++){var c=e[u];if(c>="a"&&c<="d"){if(u>r-2)return null;var l=e[++u],d=l.charCodeAt(0),h=void 0;switch(c){case"a":if(l>="A"&&l<="Z")h=String.fromCharCode(d-64);else return null;break;case"b":if(l>="A"&&l<="E")h=String.fromCharCode(d-38);else if(l>="F"&&l<="J")h=String.fromCharCode(d-11);else if(l>="K"&&l<="O")h=String.fromCharCode(d+16);else if(l>="P"&&l<="S")h=String.fromCharCode(d+43);else if(l>="T"&&l<="Z")h=String.fromCharCode(127);else return null;break;case"c":if(l>="A"&&l<="O")h=String.fromCharCode(d-32);else if(l==="Z")h=":";else return null;break;case"d":if(l>="A"&&l<="Z")h=String.fromCharCode(d+32);else return null;break}a.push(h)}else a.push(c)}return a},s.prototype._verifyChecksums=function(e){return this._matchCheckChar(e,e.length-2,20)&&this._matchCheckChar(e,e.length-1,15)},s.prototype._matchCheckChar=function(e,r,a){var u=this,c=e.slice(0,r),l=c.length,d=c.reduce(function(g,y,m){var x=(m*-1+(l-1))%a+1,D=u.ALPHABET.indexOf(y.charCodeAt(0));return g+x*D},0),h=this.ALPHABET[d%47];return h===e[r].charCodeAt(0)},v.a=s},function(p,v,o){"use strict";var f=o(4);function i(){f.a.call(this)}var s={FORMAT:{value:"ean_2",writeable:!1}};i.prototype=Object.create(f.a.prototype,s),i.prototype.constructor=i,i.prototype.decode=function(n,t){this._row=n;var e=[0,0,0,0],r=0,a=0,u=t,c=this._row.length,l,d=[],h=[];for(a=0;a<2&&u<c;a++){if(l=this._decodeCode(u),!l)return null;h.push(l),d.push(l.code%10),l.code>=this.CODE_G_START&&(r|=1<<1-a),a!=1&&(u=this._nextSet(this._row,l.end),u=this._nextUnset(this._row,u))}return d.length!=2||parseInt(d.join(""))%4!==r?null:{code:d.join(""),decodedCodes:h,end:l.end}},v.a=i},function(p,v,o){"use strict";var f=o(4);function i(){f.a.call(this)}var s={FORMAT:{value:"ean_5",writeable:!1}},n=[24,20,18,17,12,6,3,10,9,5];i.prototype=Object.create(f.a.prototype,s),i.prototype.constructor=i,i.prototype.decode=function(r,a){this._row=r;var u=[0,0,0,0],c=0,l=0,d=a,h=this._row.length,g,y=[],m=[];for(l=0;l<5&&d<h;l++){if(g=this._decodeCode(d),!g)return null;m.push(g),y.push(g.code%10),g.code>=this.CODE_G_START&&(c|=1<<4-l),l!=4&&(d=this._nextSet(this._row,g.end),d=this._nextUnset(this._row,d))}return y.length!=5||e(y)!==t(c)?null:{code:y.join(""),decodedCodes:m,end:g.end}};function t(r){var a;for(a=0;a<10;a++)if(r===n[a])return a;return null}function e(r){var a=r.length,u=0,c;for(c=a-2;c>=0;c-=2)u+=r[c];for(u*=3,c=a-1;c>=0;c-=2)u+=r[c];return u*=3,u%10}v.a=i},function(p,v,o){"use strict";var f=o(4);function i(n,t){f.a.call(this,n,t)}var s={FORMAT:{value:"ean_8",writeable:!1}};i.prototype=Object.create(f.a.prototype,s),i.prototype.constructor=i,i.prototype._decodePayload=function(n,t,e){var r,a=this;for(r=0;r<4;r++){if(n=a._decodeCode(n.end,a.CODE_G_START),!n)return null;t.push(n.code),e.push(n)}if(n=a._findPattern(a.MIDDLE_PATTERN,n.end,!0,!1),n===null)return null;for(e.push(n),r=0;r<4;r++){if(n=a._decodeCode(n.end,a.CODE_G_START),!n)return null;e.push(n),t.push(n.code)}return n},v.a=i},function(p,v,o){"use strict";var f=o(28),i=o.n(f),s=o(1);function n(u){u=i()(t(),u),s.a.call(this,u),this.barSpaceRatio=[1,1],u.normalizeBarSpaceWidth&&(this.SINGLE_CODE_ERROR=.38,this.AVG_CODE_ERROR=.09)}function t(){var u={};return Object.keys(n.CONFIG_KEYS).forEach(function(c){u[c]=n.CONFIG_KEYS[c].default}),u}var e=1,r=3,a={START_PATTERN:{value:[e,e,e,e]},STOP_PATTERN:{value:[e,e,r]},CODE_PATTERN:{value:[[e,e,r,r,e],[r,e,e,e,r],[e,r,e,e,r],[r,r,e,e,e],[e,e,r,e,r],[r,e,r,e,e],[e,r,r,e,e],[e,e,e,r,r],[r,e,e,r,e],[e,r,e,r,e]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.38,writable:!0},MAX_CORRECTION_FACTOR:{value:5},FORMAT:{value:"i2of5"}};n.prototype=Object.create(s.a.prototype,a),n.prototype.constructor=n,n.prototype._matchPattern=function(u,c){if(this.config.normalizeBarSpaceWidth){var l,d=[0,0],h=[0,0],g=[0,0],y=this.MAX_CORRECTION_FACTOR,m=1/y;for(l=0;l<u.length;l++)d[l%2]+=u[l],h[l%2]+=c[l];for(g[0]=h[0]/d[0],g[1]=h[1]/d[1],g[0]=Math.max(Math.min(g[0],y),m),g[1]=Math.max(Math.min(g[1],y),m),this.barSpaceRatio=g,l=0;l<u.length;l++)u[l]*=this.barSpaceRatio[l%2]}return s.a.prototype._matchPattern.call(this,u,c)},n.prototype._findPattern=function(u,c,l,d){var h=[],g=this,y,m=0,x={error:Number.MAX_VALUE,code:-1,start:0,end:0},D,O,R,S,N=g.AVG_CODE_ERROR;for(l=l||!1,d=d||!1,c||(c=g._nextSet(g._row)),y=0;y<u.length;y++)h[y]=0;for(y=c;y<g._row.length;y++)if(g._row[y]^l)h[m]++;else{if(m===h.length-1){for(R=0,O=0;O<h.length;O++)R+=h[O];if(D=g._matchPattern(h,u),D<N)return x.error=D,x.start=y-R,x.end=y,x;if(d){for(O=0;O<h.length-2;O++)h[O]=h[O+2];h[h.length-2]=0,h[h.length-1]=0,m--}else return null}else m++;h[m]=1,l=!l}return null},n.prototype._findStart=function(){for(var u=this,c,l=u._nextSet(u._row),d,h=1;!d;){if(d=u._findPattern(u.START_PATTERN,l,!1,!0),!d)return null;if(h=Math.floor((d.end-d.start)/4),c=d.start-h*10,c>=0&&u._matchRange(c,d.start,0))return d;l=d.end,d=null}},n.prototype._verifyTrailingWhitespace=function(u){var c=this,l;return l=u.end+(u.end-u.start)/2,l<c._row.length&&c._matchRange(u.end,l,0)?u:null},n.prototype._findEnd=function(){var u=this,c,l;return u._row.reverse(),c=u._findPattern(u.STOP_PATTERN),u._row.reverse(),c===null?null:(l=c.start,c.start=u._row.length-c.end,c.end=u._row.length-l,c!==null?u._verifyTrailingWhitespace(c):null)},n.prototype._decodePair=function(u){var c,l,d=[],h=this;for(c=0;c<u.length;c++){if(l=h._decodeCode(u[c]),!l)return null;d.push(l)}return d},n.prototype._decodeCode=function(u){var c,l=this,d=0,h,g,y=l.AVG_CODE_ERROR,m,x={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(c=0;c<u.length;c++)d+=u[c];for(m=0;m<l.CODE_PATTERN.length;m++)g=l._matchPattern(u,l.CODE_PATTERN[m]),g<x.error&&(x.code=m,x.error=g);if(x.error<y)return x},n.prototype._decodePayload=function(u,c,l){for(var d,h=this,g=0,y=u.length,m=[[0,0,0,0,0],[0,0,0,0,0]],x;g<y;){for(d=0;d<5;d++)m[0][d]=u[g]*this.barSpaceRatio[0],m[1][d]=u[g+1]*this.barSpaceRatio[1],g+=2;if(x=h._decodePair(m),!x)return null;for(d=0;d<x.length;d++)c.push(x[d].code+""),l.push(x[d])}return x},n.prototype._verifyCounterLength=function(u){return u.length%10===0},n.prototype._decode=function(){var u,c,l=this,d,h=[],g=[],y;return u=l._findStart(),!u||(g.push(u),c=l._findEnd(),!c)||(y=l._fillCounters(u.end,c.start,!1),!l._verifyCounterLength(y))||(d=l._decodePayload(y,h,g),!d)||h.length%2!==0||h.length<6?null:(g.push(c),{code:h.join(""),start:u.start,end:c.end,startInfo:u,decodedCodes:g})},n.CONFIG_KEYS={normalizeBarSpaceWidth:{type:"boolean",default:!1,description:"If true, the reader tries to normalize thewidth-difference between bars and spaces"}},v.a=n},function(p,v,o){"use strict";var f=o(4);function i(n,t){f.a.call(this,n,t)}var s={CODE_FREQUENCY:{value:[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]},STOP_PATTERN:{value:[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]},FORMAT:{value:"upc_e",writeable:!1}};i.prototype=Object.create(f.a.prototype,s),i.prototype.constructor=i,i.prototype._decodePayload=function(n,t,e){var r,a=this,u=0;for(r=0;r<6;r++){if(n=a._decodeCode(n.end),!n)return null;n.code>=a.CODE_G_START&&(n.code=n.code-a.CODE_G_START,u|=1<<5-r),t.push(n.code),e.push(n)}return a._determineParity(u,t)?n:null},i.prototype._determineParity=function(n,t){var e,r;for(r=0;r<this.CODE_FREQUENCY.length;r++)for(e=0;e<this.CODE_FREQUENCY[r].length;e++)if(n===this.CODE_FREQUENCY[r][e])return t.unshift(r),t.push(e),!0;return!1},i.prototype._convertToUPCA=function(n){var t=[n[0]],e=n[n.length-2];return e<=2?t=t.concat(n.slice(1,3)).concat([e,0,0,0,0]).concat(n.slice(3,6)):e===3?t=t.concat(n.slice(1,4)).concat([0,0,0,0,0]).concat(n.slice(4,6)):e===4?t=t.concat(n.slice(1,5)).concat([0,0,0,0,0,n[5]]):t=t.concat(n.slice(1,6)).concat([0,0,0,0,e]),t.push(n[n.length-1]),t},i.prototype._checksum=function(n){return f.a.prototype._checksum.call(this,this._convertToUPCA(n))},i.prototype._findEnd=function(n,t){return t=!0,f.a.prototype._findEnd.call(this,n,t)},i.prototype._verifyTrailingWhitespace=function(n){var t=this,e;if(e=n.end+(n.end-n.start)/2,e<t._row.length&&t._matchRange(n.end,e,0))return n},v.a=i},function(p,v,o){"use strict";var f=o(4);function i(n,t){f.a.call(this,n,t)}var s={FORMAT:{value:"upc_a",writeable:!1}};i.prototype=Object.create(f.a.prototype,s),i.prototype.constructor=i,i.prototype._decode=function(){var n=f.a.prototype._decode.call(this);return n&&n.code&&n.code.length===13&&n.code.charAt(0)==="0"?(n.code=n.code.substring(1),n):null},v.a=i},function(p,v){p.exports=o;function o(f,i){return f[0]=i[0],f[1]=i[1],f[2]=i[2],f[3]=i[3],f}},function(p,v){p.exports=o;function o(){var f=new Float32Array(4);return f[0]=1,f[1]=0,f[2]=0,f[3]=1,f}},function(p,v){p.exports=o;function o(f,i){var s=i[0],n=i[1],t=i[2],e=i[3],r=s*e-t*n;return r?(r=1/r,f[0]=e*r,f[1]=-n*r,f[2]=-t*r,f[3]=s*r,f):null}},function(p,v){p.exports=o;function o(f,i,s){return f[0]=i[0]*s,f[1]=i[1]*s,f}},function(p,v){p.exports=o;function o(f,i,s){var n=i[0],t=i[1];return f[0]=s[0]*n+s[2]*t,f[1]=s[1]*n+s[3]*t,f}},function(p,v){p.exports=o;function o(f){var i=new Float32Array(3);return i[0]=f[0],i[1]=f[1],i[2]=f[2],i}},function(p,v,o){var f=o(122),i=o(123),s=o(124),n=o(125),t=o(126);function e(r){var a=-1,u=r==null?0:r.length;for(this.clear();++a<u;){var c=r[a];this.set(c[0],c[1])}}e.prototype.clear=f,e.prototype.delete=i,e.prototype.get=s,e.prototype.has=n,e.prototype.set=t,p.exports=e},function(p,v,o){var f=o(10),i=o(149),s=o(150),n=o(151),t=o(152),e=o(153);function r(a){var u=this.__data__=new f(a);this.size=u.size}r.prototype.clear=i,r.prototype.delete=s,r.prototype.get=n,r.prototype.has=t,r.prototype.set=e,p.exports=r},function(p,v,o){var f=o(5),i=f.Uint8Array;p.exports=i},function(p,v){function o(f,i,s){switch(s.length){case 0:return f.call(i);case 1:return f.call(i,s[0]);case 2:return f.call(i,s[0],s[1]);case 3:return f.call(i,s[0],s[1],s[2])}return f.apply(i,s)}p.exports=o},function(p,v,o){var f=o(107),i=o(18),s=o(2),n=o(44),t=o(15),e=o(45),r=Object.prototype,a=r.hasOwnProperty;function u(c,l){var d=s(c),h=!d&&i(c),g=!d&&!h&&n(c),y=!d&&!h&&!g&&e(c),m=d||h||g||y,x=m?f(c.length,String):[],D=x.length;for(var O in c)(l||a.call(c,O))&&!(m&&(O=="length"||g&&(O=="offset"||O=="parent")||y&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||t(O,D)))&&x.push(O);return x}p.exports=u},function(p,v){function o(f,i){for(var s=-1,n=f==null?0:f.length,t=Array(n);++s<n;)t[s]=i(f[s],s,f);return t}p.exports=o},function(p,v){function o(f,i){for(var s=-1,n=i.length,t=f.length;++s<n;)f[t+s]=i[s];return f}p.exports=o},function(p,v,o){var f=o(0),i=Object.create,s=function(){function n(){}return function(t){if(!f(t))return{};if(i)return i(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();p.exports=s},function(p,v,o){var f=o(90),i=o(128);function s(n,t,e,r,a){var u=-1,c=n.length;for(e||(e=i),a||(a=[]);++u<c;){var l=n[u];t>0&&e(l)?t>1?s(l,t-1,e,r,a):f(a,l):r||(a[a.length]=l)}return a}p.exports=s},function(p,v,o){var f=o(117),i=f();p.exports=i},function(p,v,o){var f=o(13),i=o(23);function s(n,t){t=f(t,n);for(var e=0,r=t.length;n!=null&&e<r;)n=n[i(t[e++])];return e&&e==r?n:void 0}p.exports=s},function(p,v){function o(f,i){return f!=null&&i in Object(f)}p.exports=o},function(p,v,o){var f=o(8),i=o(6),s="[object Arguments]";function n(t){return i(t)&&f(t)==s}p.exports=n},function(p,v,o){var f=o(25),i=o(132),s=o(0),n=o(155),t=/[\\^$.*+?()[\]{}|]/g,e=/^\[object .+?Constructor\]$/,r=Function.prototype,a=Object.prototype,u=r.toString,c=a.hasOwnProperty,l=RegExp("^"+u.call(c).replace(t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(h){if(!s(h)||i(h))return!1;var g=f(h)?l:e;return g.test(n(h))}p.exports=d},function(p,v,o){var f=o(8),i=o(26),s=o(6),n="[object Arguments]",t="[object Array]",e="[object Boolean]",r="[object Date]",a="[object Error]",u="[object Function]",c="[object Map]",l="[object Number]",d="[object Object]",h="[object RegExp]",g="[object Set]",y="[object String]",m="[object WeakMap]",x="[object ArrayBuffer]",D="[object DataView]",O="[object Float32Array]",R="[object Float64Array]",S="[object Int8Array]",N="[object Int16Array]",L="[object Int32Array]",K="[object Uint8Array]",Z="[object Uint8ClampedArray]",H="[object Uint16Array]",J="[object Uint32Array]",Q={};Q[O]=Q[R]=Q[S]=Q[N]=Q[L]=Q[K]=Q[Z]=Q[H]=Q[J]=!0,Q[n]=Q[t]=Q[x]=Q[e]=Q[D]=Q[r]=Q[a]=Q[u]=Q[c]=Q[l]=Q[d]=Q[h]=Q[g]=Q[y]=Q[m]=!1;function ot(rt){return s(rt)&&i(rt.length)&&!!Q[f(rt)]}p.exports=ot},function(p,v,o){var f=o(0),i=o(40),s=o(144),n=Object.prototype,t=n.hasOwnProperty;function e(r){if(!f(r))return s(r);var a=i(r),u=[];for(var c in r)c=="constructor"&&(a||!t.call(r,c))||u.push(c);return u}p.exports=e},function(p,v,o){var f=o(85),i=o(35),s=o(93),n=o(101),t=o(0),e=o(46);function r(a,u,c,l,d){a!==u&&s(u,function(h,g){if(t(h))d||(d=new f),n(a,u,g,c,r,l,d);else{var y=l?l(a[g],h,g+"",a,u,d):void 0;y===void 0&&(y=h),i(a,g,y)}},e)}p.exports=r},function(p,v,o){var f=o(35),i=o(111),s=o(112),n=o(113),t=o(127),e=o(18),r=o(2),a=o(159),u=o(44),c=o(25),l=o(0),d=o(160),h=o(45),g=o(164);function y(m,x,D,O,R,S,N){var L=m[D],K=x[D],Z=N.get(K);if(Z){f(m,D,Z);return}var H=S?S(L,K,D+"",m,x,N):void 0,J=H===void 0;if(J){var Q=r(K),ot=!Q&&u(K),rt=!Q&&!ot&&h(K);H=K,Q||ot||rt?r(L)?H=L:a(L)?H=n(L):ot?(J=!1,H=i(K,!0)):rt?(J=!1,H=s(K,!0)):H=[]:d(K)||e(K)?(H=L,e(L)?H=g(L):(!l(L)||O&&c(L))&&(H=t(K))):J=!1}J&&(N.set(K,H),R(H,K,O,S,N),N.delete(K)),f(m,D,H)}p.exports=y},function(p,v,o){var f=o(103),i=o(158);function s(n,t){return f(n,t,function(e,r){return i(n,r)})}p.exports=s},function(p,v,o){var f=o(94),i=o(105),s=o(13);function n(t,e,r){for(var a=-1,u=e.length,c={};++a<u;){var l=e[a],d=f(t,l);r(d,l)&&i(c,s(l,t),d)}return c}p.exports=n},function(p,v,o){var f=o(43),i=o(41),s=o(42);function n(t,e){return s(i(t,e,f),t+"")}p.exports=n},function(p,v,o){var f=o(36),i=o(13),s=o(15),n=o(0),t=o(23);function e(r,a,u,c){if(!n(r))return r;a=i(a,r);for(var l=-1,d=a.length,h=d-1,g=r;g!=null&&++l<d;){var y=t(a[l]),m=u;if(l!=h){var x=g[y];m=c?c(x,y,g):void 0,m===void 0&&(m=n(x)?x:s(a[l+1])?[]:{})}f(g,y,m),g=g[y]}return r}p.exports=e},function(p,v,o){var f=o(156),i=o(37),s=o(43),n=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:f(e),writable:!0})}:s;p.exports=n},function(p,v){function o(f,i){for(var s=-1,n=Array(f);++s<f;)n[s]=i(s);return n}p.exports=o},function(p,v,o){var f=o(11),i=o(89),s=o(2),n=o(27),t=1/0,e=f?f.prototype:void 0,r=e?e.toString:void 0;function a(u){if(typeof u=="string")return u;if(s(u))return i(u,a)+"";if(n(u))return r?r.call(u):"";var c=u+"";return c=="0"&&1/u==-t?"-0":c}p.exports=a},function(p,v){function o(f){return function(i){return f(i)}}p.exports=o},function(p,v,o){var f=o(86);function i(s){var n=new s.constructor(s.byteLength);return new f(n).set(new f(s)),n}p.exports=i},function(p,v,o){(function(f){var i=o(5),s=typeof v=="object"&&v&&!v.nodeType&&v,n=s&&typeof f=="object"&&f&&!f.nodeType&&f,t=n&&n.exports===s,e=t?i.Buffer:void 0,r=e?e.allocUnsafe:void 0;function a(u,c){if(c)return u.slice();var l=u.length,d=r?r(l):new u.constructor(l);return u.copy(d),d}f.exports=a}).call(v,o(29)(p))},function(p,v,o){var f=o(110);function i(s,n){var t=n?f(s.buffer):s.buffer;return new s.constructor(t,s.byteOffset,s.length)}p.exports=i},function(p,v){function o(f,i){var s=-1,n=f.length;for(i||(i=Array(n));++s<n;)i[s]=f[s];return i}p.exports=o},function(p,v,o){var f=o(36),i=o(21);function s(n,t,e,r){var a=!e;e||(e={});for(var u=-1,c=t.length;++u<c;){var l=t[u],d=r?r(e[l],n[l],l,e,n):void 0;d===void 0&&(d=n[l]),a?i(e,l,d):f(e,l,d)}return e}p.exports=s},function(p,v,o){var f=o(5),i=f["__core-js_shared__"];p.exports=i},function(p,v,o){var f=o(104),i=o(129);function s(n){return f(function(t,e){var r=-1,a=e.length,u=a>1?e[a-1]:void 0,c=a>2?e[2]:void 0;for(u=n.length>3&&typeof u=="function"?(a--,u):void 0,c&&i(e[0],e[1],c)&&(u=a<3?void 0:u,a=1),t=Object(t);++r<a;){var l=e[r];l&&n(t,l,r,u)}return t})}p.exports=s},function(p,v){function o(f){return function(i,s,n){for(var t=-1,e=Object(i),r=n(i),a=r.length;a--;){var u=r[f?a:++t];if(s(e[u],u,e)===!1)break}return i}}p.exports=o},function(p,v,o){var f=o(157),i=o(41),s=o(42);function n(t){return s(i(t,void 0,f),t+"")}p.exports=n},function(p,v,o){var f=o(11),i=Object.prototype,s=i.hasOwnProperty,n=i.toString,t=f?f.toStringTag:void 0;function e(r){var a=s.call(r,t),u=r[t];try{r[t]=void 0;var c=!0}catch(d){}var l=n.call(r);return c&&(a?r[t]=u:delete r[t]),l}p.exports=e},function(p,v){function o(f,i){return f==null?void 0:f[i]}p.exports=o},function(p,v,o){var f=o(13),i=o(18),s=o(2),n=o(15),t=o(26),e=o(23);function r(a,u,c){u=f(u,a);for(var l=-1,d=u.length,h=!1;++l<d;){var g=e(u[l]);if(!(h=a!=null&&c(a,g)))break;a=a[g]}return h||++l!=d?h:(d=a==null?0:a.length,!!d&&t(d)&&n(g,d)&&(s(a)||i(a)))}p.exports=r},function(p,v,o){var f=o(16);function i(){this.__data__=f?f(null):{},this.size=0}p.exports=i},function(p,v){function o(f){var i=this.has(f)&&delete this.__data__[f];return this.size-=i?1:0,i}p.exports=o},function(p,v,o){var f=o(16),i="__lodash_hash_undefined__",s=Object.prototype,n=s.hasOwnProperty;function t(e){var r=this.__data__;if(f){var a=r[e];return a===i?void 0:a}return n.call(r,e)?r[e]:void 0}p.exports=t},function(p,v,o){var f=o(16),i=Object.prototype,s=i.hasOwnProperty;function n(t){var e=this.__data__;return f?e[t]!==void 0:s.call(e,t)}p.exports=n},function(p,v,o){var f=o(16),i="__lodash_hash_undefined__";function s(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=f&&t===void 0?i:t,this}p.exports=s},function(p,v,o){var f=o(91),i=o(39),s=o(40);function n(t){return typeof t.constructor=="function"&&!s(t)?f(i(t)):{}}p.exports=n},function(p,v,o){var f=o(11),i=o(18),s=o(2),n=f?f.isConcatSpreadable:void 0;function t(e){return s(e)||i(e)||!!(n&&e&&e[n])}p.exports=t},function(p,v,o){var f=o(17),i=o(24),s=o(15),n=o(0);function t(e,r,a){if(!n(a))return!1;var u=typeof r;return(u=="number"?i(a)&&s(r,a.length):u=="string"&&r in a)?f(a[r],e):!1}p.exports=t},function(p,v,o){var f=o(2),i=o(27),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function t(e,r){if(f(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||i(e)?!0:n.test(e)||!s.test(e)||r!=null&&e in Object(r)}p.exports=t},function(p,v){function o(f){var i=typeof f;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?f!=="__proto__":f===null}p.exports=o},function(p,v,o){var f=o(115),i=function(){var n=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function s(n){return!!i&&i in n}p.exports=s},function(p,v){function o(){this.__data__=[],this.size=0}p.exports=o},function(p,v,o){var f=o(12),i=Array.prototype,s=i.splice;function n(t){var e=this.__data__,r=f(e,t);if(r<0)return!1;var a=e.length-1;return r==a?e.pop():s.call(e,r,1),--this.size,!0}p.exports=n},function(p,v,o){var f=o(12);function i(s){var n=this.__data__,t=f(n,s);return t<0?void 0:n[t][1]}p.exports=i},function(p,v,o){var f=o(12);function i(s){return f(this.__data__,s)>-1}p.exports=i},function(p,v,o){var f=o(12);function i(s,n){var t=this.__data__,e=f(t,s);return e<0?(++this.size,t.push([s,n])):t[e][1]=n,this}p.exports=i},function(p,v,o){var f=o(84),i=o(10),s=o(33);function n(){this.size=0,this.__data__={hash:new f,map:new(s||i),string:new f}}p.exports=n},function(p,v,o){var f=o(14);function i(s){var n=f(this,s).delete(s);return this.size-=n?1:0,n}p.exports=i},function(p,v,o){var f=o(14);function i(s){return f(this,s).get(s)}p.exports=i},function(p,v,o){var f=o(14);function i(s){return f(this,s).has(s)}p.exports=i},function(p,v,o){var f=o(14);function i(s,n){var t=f(this,s),e=t.size;return t.set(s,n),this.size+=t.size==e?0:1,this}p.exports=i},function(p,v,o){var f=o(161),i=500;function s(n){var t=f(n,function(r){return e.size===i&&e.clear(),r}),e=t.cache;return t}p.exports=s},function(p,v){function o(f){var i=[];if(f!=null)for(var s in Object(f))i.push(s);return i}p.exports=o},function(p,v,o){(function(f){var i=o(38),s=typeof v=="object"&&v&&!v.nodeType&&v,n=s&&typeof f=="object"&&f&&!f.nodeType&&f,t=n&&n.exports===s,e=t&&i.process,r=function(){try{return e&&e.binding&&e.binding("util")}catch(a){}}();f.exports=r}).call(v,o(29)(p))},function(p,v){var o=Object.prototype,f=o.toString;function i(s){return f.call(s)}p.exports=i},function(p,v){function o(f,i){return function(s){return f(i(s))}}p.exports=o},function(p,v){var o=800,f=16,i=Date.now;function s(n){var t=0,e=0;return function(){var r=i(),a=f-(r-e);if(e=r,a>0){if(++t>=o)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}p.exports=s},function(p,v,o){var f=o(10);function i(){this.__data__=new f,this.size=0}p.exports=i},function(p,v){function o(f){var i=this.__data__,s=i.delete(f);return this.size=i.size,s}p.exports=o},function(p,v){function o(f){return this.__data__.get(f)}p.exports=o},function(p,v){function o(f){return this.__data__.has(f)}p.exports=o},function(p,v,o){var f=o(10),i=o(33),s=o(34),n=200;function t(e,r){var a=this.__data__;if(a instanceof f){var u=a.__data__;if(!i||u.length<n-1)return u.push([e,r]),this.size=++a.size,this;a=this.__data__=new s(u)}return a.set(e,r),this.size=a.size,this}p.exports=t},function(p,v,o){var f=o(143),i=/^\./,s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,t=f(function(e){var r=[];return i.test(e)&&r.push(""),e.replace(s,function(a,u,c,l){r.push(c?l.replace(n,"$1"):u||a)}),r});p.exports=t},function(p,v){var o=Function.prototype,f=o.toString;function i(s){if(s!=null){try{return f.call(s)}catch(n){}try{return s+""}catch(n){}}return""}p.exports=i},function(p,v){function o(f){return function(){return f}}p.exports=o},function(p,v,o){var f=o(92);function i(s){var n=s==null?0:s.length;return n?f(s,1):[]}p.exports=i},function(p,v,o){var f=o(95),i=o(121);function s(n,t){return n!=null&&i(n,t,f)}p.exports=s},function(p,v,o){var f=o(24),i=o(6);function s(n){return i(n)&&f(n)}p.exports=s},function(p,v,o){var f=o(8),i=o(39),s=o(6),n="[object Object]",t=Function.prototype,e=Object.prototype,r=t.toString,a=e.hasOwnProperty,u=r.call(Object);function c(l){if(!s(l)||f(l)!=n)return!1;var d=i(l);if(d===null)return!0;var h=a.call(d,"constructor")&&d.constructor;return typeof h=="function"&&h instanceof h&&r.call(h)==u}p.exports=c},function(p,v,o){var f=o(34),i="Expected a function";function s(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(i);var e=function(){var r=arguments,a=t?t.apply(this,r):r[0],u=e.cache;if(u.has(a))return u.get(a);var c=n.apply(this,r);return e.cache=u.set(a,c)||u,c};return e.cache=new(s.Cache||f),e}s.Cache=f,p.exports=s},function(p,v,o){var f=o(102),i=o(118),s=i(function(n,t){return n==null?{}:f(n,t)});p.exports=s},function(p,v){function o(){return!1}p.exports=o},function(p,v,o){var f=o(114),i=o(46);function s(n){return f(n,i(n))}p.exports=s},function(p,v,o){var f=o(108);function i(s){return s==null?"":f(s)}p.exports=i},function(p,v,o){p.exports=o(48)}])})});var it=Et(dt());frappe.provide("frappe.barcode");it.default.onProcessed(function(q){let p=it.default.canvas.ctx.overlay,v=it.default.canvas.dom.overlay;q&&(q.boxes&&(p.clearRect(0,0,parseInt(v.getAttribute("width")),parseInt(v.getAttribute("height"))),q.boxes.filter(function(o){return o!==q.box}).forEach(function(o){it.default.ImageDebug.drawPath(o,{x:0,y:1},p,{color:"green",lineWidth:2})})),q.box&&it.default.ImageDebug.drawPath(q.box,{x:0,y:1},p,{color:"#00F",lineWidth:2}),q.codeResult&&q.codeResult.code&&it.default.ImageDebug.drawPath(q.line,{x:"x",y:"y"},p,{color:"red",lineWidth:3}))});frappe.barcode.get_barcode=function(){return new Promise(q=>{let p=new frappe.ui.Dialog({title:__("Scan Barcode"),fields:[{fieldtype:"HTML",fieldname:"scan_area"}],on_page_show(){let v=p.get_field("scan_area").$wrapper;v.addClass("barcode-scanner"),it.default.init({inputStream:{name:"Live",type:"LiveStream",target:v.get(0)},decoder:{readers:["code_128_reader"]}},function(o){if(o){console.log(o);return}console.log("Initialization finished. Ready to start"),it.default.start()}),it.default.onDetected(function(o){let f=o.codeResult.code;f&&(it.default.stop(),p.hide(),q(f))})}});p.show()})};})();
/* @preserve ASM BEGIN */
/* @preserve ASM END */
//# sourceMappingURL=barcode_scanner.bundle.YJLDN4TP.js.map
